(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[4457],{74457:(e,t,n)=>{"use strict";n.r(t);n.d(t,{ListModel:()=>E,Searcher:()=>m,isJupyterOrg:()=>f,Lister:()=>_,CollapsibleSection:()=>T,ExtensionView:()=>I,ListView:()=>R,SearchBar:()=>A});var a=n(92644);var s=n(52983);var i=n(23114);var r=n(81249);var l=n(75510);var o=n(10613);function c(e,t,n){n=n||l.nullTranslator;const s=n.load("jupyterlab");if(t.isAvailable){return t.build().then(()=>(0,a.showDialog)({title:s.__("Build Complete"),body:o.createElement("div",null,s.__("Build successfully completed, reload page?"),o.createElement("br",null),s.__("You will lose any unsaved changes.")),buttons:[a.Dialog.cancelButton({label:s.__("Reload Without Saving"),actions:["reload"]}),a.Dialog.okButton({label:s.__("Save and Reload")})],hasClose:true})).then(({button:{accept:t,actions:n}})=>{if(t){void e.commands.execute("docmanager:save").then(()=>{location.reload()}).catch(e=>{void(0,a.showErrorMessage)(s.__("Save Failed"),{message:o.createElement("pre",null,e.message)})})}else if(n.includes("reload")){location.reload()}}).catch(e=>{void(0,a.showDialog)({title:s.__("Build Failed"),body:o.createElement("pre",null,e.message)})})}return Promise.resolve()}const d={pip:e=>`pip install ${e}`,conda:e=>`conda install -c conda-forge ${e}`};function u(e){var t,n,a,s;const i=Array();for(const r of e.managers){const l=(a=(n=(t=e.overrides)===null||t===void 0?void 0:t[r])===null||n===void 0?void 0:n.name)!==null&&a!==void 0?a:e.base.name;if(!l){console.warn(`No package name found for manager ${r}`);continue}const o=(s=d[r])===null||s===void 0?void 0:s.call(d,l);if(!o){console.warn(`Don't know how to install packages for manager ${r}`)}i.push(o)}return i}function h(e,t,n){n=n||l.nullTranslator;const s=n.load("jupyterlab");const i=[];if(t){i.push(o.createElement("p",{key:"server-companion"},s.__(`This package has indicated that it needs a corresponding server\nextension. Please contact your Administrator to update the server with\none of the following commands:`),u(t).map(e=>o.createElement("p",{key:e},o.createElement("code",null,e)))))}if(e.length>0){i.push(o.createElement("p",{key:"kernel-companion"},s.__("This package has indicated that it needs a corresponding package for the kernel.")));for(const[t,n]of e.entries()){i.push(o.createElement("p",{key:`companion-${t}`},s.__(`The package <code>%1</code>, is required by the following kernels:`,n.kernelInfo.base.name)));const e=[];for(const[t,a]of n.kernels.entries()){e.push(o.createElement("li",{key:`kernels-${t}`},o.createElement("code",null,a.display_name)))}i.push(o.createElement("ul",{key:"kernel-companion-end"},e));i.push(o.createElement("p",{key:`kernel-companion-${t}`},s.__(`This package has indicated that it needs a corresponding kernel\npackage. Please contact your Administrator to update the server with\none of the following commands:`),u(n.kernelInfo).map(e=>o.createElement("p",{key:e},o.createElement("code",null,e)))))}}const r=o.createElement("div",null,i,o.createElement("p",null,s.__(`You should make sure that the indicated packages are installed before\ntrying to use the extension. Do you want to continue with the extension\ninstallation?`)));const c=e.length>0;const d=!!t;let h="";if(c&&d){h=s.__("Kernel and Server Companions")}else if(c){h=s.__("Kernel Companions")}else{h=s.__("Server Companion")}return(0,a.showDialog)({title:h,body:r,buttons:[a.Dialog.cancelButton({label:s.__("Cancel")}),a.Dialog.okButton({label:s.__("OK"),caption:s.__("Install the JupyterLab extension.")})]}).then(e=>e.button.accept)}function p(e,t,n){n=n||l.nullTranslator;const s=n.load("jupyterlab");const i=[];i.push(o.createElement("p",null,s.__("An error occurred installing <code>%1</code>.",e)));if(t){i.push(o.createElement("p",null,o.createElement("span",{className:"jp-extensionmanager-dialog-subheader"},s.__("Error message:"))),o.createElement("pre",null,t.trim()))}const r=o.createElement("div",{className:"jp-extensionmanager-dialog"},i);void(0,a.showDialog)({title:s.__("Extension Installation Error"),body:r,buttons:[a.Dialog.warnButton({label:s.__("OK")})]})}class m{constructor(e="https://registry.npmjs.org/",t="https://unpkg.com"){this.repoUri=e;this.cdnUri=t}searchExtensions(e,t=0,n=250){const a=new URL("/-/v1/search",this.repoUri);const s=`${e} keywords:"jupyterlab-extension"`;a.searchParams.append("text",s);a.searchParams.append("size",n.toString());a.searchParams.append("from",(n*t).toString());return fetch(a.toString()).then(e=>{if(e.ok){return e.json()}return[]})}fetchPackageData(e,t){const n=new URL(`/${e}@${t}/package.json`,this.cdnUri);return fetch(n.toString()).then(e=>{if(e.ok){return e.json()}return null})}}function f(e){const t=["jupyterlab","jupyter-widgets"];const n=e.split("/");const a=n[0];return n.length>1&&!!a&&a[0]==="@"&&t.indexOf(a.slice(1))!==-1}var g=n(63117);var v=n(25853);class _{constructor(){this._listings=null;this._listingsLoaded=new g.Signal(this);b("@jupyterlab/extensionmanager-extension/listings.json").then(e=>{this._listings={mode:"default",uris:[],entries:[]};if(e.blocked_extensions_uris.length>0&&e.allowed_extensions_uris.length>0){console.warn("Simultaneous black and white list are not allowed.");this._listings={mode:"invalid",uris:[],entries:[]}}else if(e.blocked_extensions_uris.length>0||e.allowed_extensions_uris.length>0){this._listings={mode:e.blocked_extensions_uris.length>0?"block":"allow",uris:e.blocked_extensions_uris.length>0?e.blocked_extensions_uris:e.allowed_extensions_uris,entries:e.blocked_extensions_uris.length>0?e.blocked_extensions:e.allowed_extensions}}this._listingsLoaded.emit(this._listings)}).catch(e=>{console.error(e)})}get listingsLoaded(){return this._listingsLoaded}}async function b(e="",t={}){const n=s.ServerConnection.makeSettings();const a=v.URLExt.join(n.baseUrl,n.appUrl,"api/listings/",e);let i;try{i=await s.ServerConnection.makeRequest(a,t,n)}catch(l){throw new s.ServerConnection.NetworkError(l)}const r=await i.json();if(!i.ok){throw new s.ServerConnection.ResponseError(i,r.message)}return r}const y="lab/api/extensions";class E extends a.VDomModel{constructor(e,t,n,a){super();this.installedError=null;this.searchError=null;this.blockedExtensionsError=null;this.serverConnectionError=null;this.serverRequirementsError=null;this.initialized=false;this.promptBuild=false;this.searcher=new m;this.lister=new _;this._query=null;this._page=0;this._pagination=250;this._totalEntries=0;this._pendingActions=[];this._totalblockedExtensionsFound=0;this._totalallowedExtensionsFound=0;this.translator=a||l.nullTranslator;this._app=e;this._installed=[];this._searchResult=[];this.serviceManager=t;this.serverConnectionSettings=s.ServerConnection.makeSettings();this._debouncedUpdate=new i.Debouncer(this.update.bind(this),1e3);this.lister.listingsLoaded.connect(this._listingIsLoaded,this);k=n.composite["disclaimed"]===true;n.changed.connect(()=>{k=n.composite["disclaimed"]===true;void this.update()})}_listingIsLoaded(e,t){this._listMode=t.mode;this._blockedExtensionsArray=new Array;if(this._listMode==="block"){t.entries.map(e=>{this._blockedExtensionsArray.push({name:e.name,regexp:new RegExp(e.name),type:e.type,reason:e.reason,creation_date:e.creation_date,last_update_date:e.last_update_date})})}this._allowedExtensionsArray=new Array;if(this._listMode==="allow"){t.entries.map(e=>{this._allowedExtensionsArray.push({name:e.name,regexp:new RegExp(e.name),type:e.type,reason:e.reason,creation_date:e.creation_date,last_update_date:e.last_update_date})})}void this.initialize()}get installed(){return this._installed}get searchResult(){return this._searchResult}get query(){return this._query}set query(e){this._query=e;void this._debouncedUpdate.invoke()}get page(){return this._page}set page(e){this._page=e;void this.update()}get pagination(){return this._pagination}set pagination(e){this._pagination=e;void this.update()}get totalEntries(){return this._totalEntries}get listMode(){return this._listMode}get totalblockedExtensionsFound(){return this._totalblockedExtensionsFound}get totalallowedExtensionsFound(){return this._totalallowedExtensionsFound}initialize(){return this.update().then(()=>{this.initialized=true;this.stateChanged.emit(undefined)}).catch(()=>{this.initialized=true;this.stateChanged.emit(undefined)})}hasPendingActions(){return this._pendingActions.length>0}async install(e){if(e.installed){await this._performAction("install",e).then(t=>{if(t.status!=="ok"){p(e.name,t.message,this.translator)}return this.update()})}await this.checkCompanionPackages(e).then(t=>{if(t){return this._performAction("install",e).then(t=>{if(t.status!=="ok"){p(e.name,t.message,this.translator)}return this.update()})}})}async uninstall(e){if(!e.installed){throw new Error(`Not installed, cannot uninstall: ${e.name}`)}await this._performAction("uninstall",e);return this.update()}async enable(e){if(e.enabled){throw new Error(`Already enabled: ${e.name}`)}await this._performAction("enable",e);await this.update()}async disable(e){if(!e.enabled){throw new Error(`Already disabled: ${e.name}`)}await this._performAction("disable",e);await this.update()}checkCompanionPackages(e){return this.searcher.fetchPackageData(e.name,e.latest_version).then(e=>{if(!e||!e.jupyterlab||!e.jupyterlab.discovery){return true}const t=e.jupyterlab.discovery;const n=[];if(t.kernel){for(const e of t.kernel){const t=x.matchSpecs(e,this.serviceManager.kernelspecs.specs);n.push({kernelInfo:e,kernels:t})}}if(n.length<1&&!t.server){return true}return h(n,t.server,this.translator)})}triggerBuildCheck(){const e=this.serviceManager.builder;if(e.isAvailable&&!this.promptBuild){const t=e.getStatus().then(t=>{if(t.status==="building"){return c(this._app,e)}if(t.status!=="needed"){return}if(!this.promptBuild){this.promptBuild=true;this.stateChanged.emit(undefined)}});this._addPendingAction(t)}}performBuild(){if(this.promptBuild){this.promptBuild=false;this.stateChanged.emit(undefined)}const e=c(this._app,this.serviceManager.builder);this._addPendingAction(e)}ignoreBuildRecommendation(){if(this.promptBuild){this.promptBuild=false;this.stateChanged.emit(undefined)}}refreshInstalled(){const e=this.update(true);this._addPendingAction(e)}async translateSearchResult(e){const t={};this._totalblockedExtensionsFound=0;this._totalallowedExtensionsFound=0;this._totalEntries=0;for(const n of(await e).objects){const e=n.package;if(e.keywords.indexOf("deprecated")>=0){continue}this._totalEntries=this._totalEntries+1;const a=this.isListed(e.name,this._blockedExtensionsArray);if(a){this._totalblockedExtensionsFound=this._totalblockedExtensionsFound+1}const s=this.isListed(e.name,this._allowedExtensionsArray);if(s){this._totalallowedExtensionsFound=this._totalallowedExtensionsFound+1}t[e.name]={name:e.name,description:e.description,url:"homepage"in e.links?e.links.homepage:"repository"in e.links?e.links.repository:e.links.npm,installed:false,enabled:false,status:null,latest_version:e.version,installed_version:"",blockedExtensionsEntry:a,allowedExtensionsEntry:s}}return t}async translateInstalled(e){const t=[];const n={};for(const a of await e){t.push(e.then(e=>{n[a.name]={name:a.name,description:a.description,url:a.url,installed:a.installed!==false,enabled:a.enabled,status:a.status,latest_version:a.latest_version,installed_version:a.installed_version,blockedExtensionsEntry:this.isListed(a.name,this._blockedExtensionsArray),allowedExtensionsEntry:this.isListed(a.name,this._allowedExtensionsArray)}}))}return Promise.all(t).then(()=>n)}isListed(e,t){let n=undefined;t.forEach(t=>{var a;if(t.regexp&&((a=t.regexp)===null||a===void 0?void 0:a.test(e))){n=t}});return n}fetchInstalled(e=false){const t=new URL(y,this.serverConnectionSettings.baseUrl);if(e){t.searchParams.append("refresh","1")}const n=s.ServerConnection.makeRequest(t.toString(),{},this.serverConnectionSettings).then(e=>{x.handleError(e);return e.json()});n.then(()=>{this.serverConnectionError=null},e=>{this.serverConnectionError=e.toString()});return n}async performSearch(){if(this.query===null){this.query=""}const e=this.searcher.searchExtensions(this.query,this.page,this.pagination);const t=this.translateSearchResult(e);let n;try{n=await t;this.searchError=null}catch(a){n={};this.searchError=a.toString()}return n}async queryInstalled(e){let t;try{t=await this.translateInstalled(this.fetchInstalled(e));this.installedError=null}catch(n){t={};this.installedError=n.toString()}return t}async update(e=false){const t=this.performSearch();const n=this.queryInstalled(e);const a=await t;const s=await n;const i=[];for(const l of Object.keys(s)){i.push(s[l])}this._installed=i.sort(x.comparator);const r=[];for(const l of Object.keys(a)){if(s[l]===undefined){r.push(a[l])}else{r.push(s[l])}}this._searchResult=r.sort(x.comparator);this.stateChanged.emit(undefined)}_performAction(e,t){const n=new URL(y,this.serverConnectionSettings.baseUrl);const a={method:"POST",body:JSON.stringify({cmd:e,extension_name:t.name})};const i=s.ServerConnection.makeRequest(n.toString(),a,this.serverConnectionSettings).then(e=>{x.handleError(e);this.triggerBuildCheck();return e.json()});i.then(()=>{this.serverConnectionError=null},e=>{this.serverConnectionError=e.toString()});this._addPendingAction(i);return i}_addPendingAction(e){this._pendingActions.push(e);const t=()=>{const t=this._pendingActions.indexOf(e);this._pendingActions.splice(t,1);this.stateChanged.emit(undefined)};e.then(t,t);this.stateChanged.emit(undefined)}}let k=false;(function(e){function t(e){if(!e.installed||!e.latest_version){return false}return r.lt(e.installed_version,e.latest_version)}e.entryHasUpdate=t;function n(){return k}e.isDisclaimed=n;function a(){k=!k}e.toogleDisclaimed=a})(E||(E={}));var x;(function(e){function t(e,t){if(e.name===t.name){return 0}const n=f(e.name);const a=f(t.name);if(n===a){return 0}else if(n&&!a){return-1}else{return 1}}e.comparator=t;function n(e,t){if(!t){return[]}const n=[];let a=null;let s=null;if(e.kernel_spec.language){a=new RegExp(e.kernel_spec.language)}if(e.kernel_spec.display_name){s=new RegExp(e.kernel_spec.display_name)}for(const i of Object.keys(t.kernelspecs)){const e=t.kernelspecs[i];let r=false;if(a){r=a.test(e.language)}if(!r&&s){r=s.test(e.display_name)}if(r){n.push(e);continue}}return n}e.matchSpecs=n;function a(e){if(!e.ok){throw new Error(`${e.status} (${e.statusText})`)}return e}e.handleError=a})(x||(x={}));var C=n(62402);var w=n(43352);const N=C.caretDownIcon.bindprops({height:"auto",width:"20px"});const P=C.caretRightIcon.bindprops({height:"auto",width:"20px"});const j=32;const L=Math.floor(devicePixelRatio*j);class A extends o.Component{constructor(e){super(e);this.handleChange=e=>{const t=e.target;this.setState({value:t.value})};this.state={value:""}}render(){return o.createElement("div",{className:"jp-extensionmanager-search-bar"},o.createElement(C.InputGroup,{className:"jp-extensionmanager-search-wrapper",type:"text",placeholder:this.props.placeholder,onChange:this.handleChange,value:this.state.value,rightIcon:"ui-components:search",disabled:this.props.disabled}))}}function S(e){const t=e.translator||l.nullTranslator;const n=t.load("jupyterlab");return o.createElement("div",{className:"jp-extensionmanager-buildprompt"},o.createElement("div",{className:"jp-extensionmanager-buildmessage"},n.__("A build is needed to include the latest changes")),o.createElement(C.Button,{onClick:e.performBuild,minimal:true,small:true},n.__("Rebuild")),o.createElement(C.Button,{onClick:e.ignoreBuild,minimal:true,small:true},n.__("Ignore")))}function B(e){if(e.url&&e.url.startsWith("https://github.com/")){return e.url.split("/")[3]}return null}function D(e){var t;const{entry:n,listMode:s,viewType:i}=e;const r=e.translator||l.nullTranslator;const c=r.load("jupyterlab");const d=[];if(n.status&&["ok","warning","error"].indexOf(n.status)!==-1){d.push(`jp-extensionmanager-entry-${n.status}`)}let u=n.name;const h=f(n.name);if(h){u=c.__("%1 (Developed by Project Jupyter)",n.name)}const p=B(n);if(s==="block"&&n.blockedExtensionsEntry&&i==="searchResult"){return o.createElement("li",null)}if(s==="allow"&&!n.allowedExtensionsEntry&&i==="searchResult"){return o.createElement("li",null)}if(s==="block"&&((t=n.blockedExtensionsEntry)===null||t===void 0?void 0:t.name)){d.push(`jp-extensionmanager-entry-should-be-uninstalled`)}if(s==="allow"&&!n.allowedExtensionsEntry){d.push(`jp-extensionmanager-entry-should-be-uninstalled`)}return o.createElement("li",{className:`jp-extensionmanager-entry ${d.join(" ")}`,title:u,style:{display:"flex"}},o.createElement("div",{style:{marginRight:"8px"}},p&&o.createElement("img",{src:`https://github.com/${p}.png?size=${L}`,style:{width:"32px",height:"32px"}}),!p&&o.createElement("div",{style:{width:`${j}px`,height:`${j}px`}})),o.createElement("div",{className:"jp-extensionmanager-entry-description"},o.createElement("div",{className:"jp-extensionmanager-entry-title"},o.createElement("div",{className:"jp-extensionmanager-entry-name"},o.createElement("a",{href:n.url,target:"_blank",rel:"noopener noreferrer"},n.name)),n.blockedExtensionsEntry&&o.createElement(a.ToolbarButtonComponent,{icon:C.listingsInfoIcon,iconLabel:c.__("%1 extension has been blockedExtensions since install. Please uninstall immediately and contact your blockedExtensions administrator.",n.name),onClick:()=>window.open("https://jupyterlab.readthedocs.io/en/stable/user/extensions.html")}),!n.allowedExtensionsEntry&&i==="installed"&&s==="allow"&&o.createElement(a.ToolbarButtonComponent,{icon:C.listingsInfoIcon,iconLabel:c.__("%1 extension has been removed from the allowedExtensions since installation. Please uninstall immediately and contact your allowedExtensions administrator.",n.name),onClick:()=>window.open("https://jupyterlab.readthedocs.io/en/stable/user/extensions.html")}),h&&o.createElement(C.jupyterIcon.react,{className:"jp-extensionmanager-is-jupyter-org",top:"1px",height:"auto",width:"1em"})),o.createElement("div",{className:"jp-extensionmanager-entry-content"},o.createElement("div",{className:"jp-extensionmanager-entry-description"},n.description),o.createElement("div",{className:"jp-extensionmanager-entry-buttons"},!n.installed&&!n.blockedExtensionsEntry&&!(!n.allowedExtensionsEntry&&s==="allow")&&E.isDisclaimed()&&o.createElement(C.Button,{onClick:()=>e.performAction("install",n),minimal:true,small:true},c.__("Install")),E.entryHasUpdate(n)&&!n.blockedExtensionsEntry&&!(!n.allowedExtensionsEntry&&s==="allow")&&E.isDisclaimed()&&o.createElement(C.Button,{onClick:()=>e.performAction("install",n),minimal:true,small:true},c.__("Update")),n.installed&&o.createElement(C.Button,{onClick:()=>e.performAction("uninstall",n),minimal:true,small:true},c.__("Uninstall")),n.enabled&&o.createElement(C.Button,{onClick:()=>e.performAction("disable",n),minimal:true,small:true},c.__("Disable")),n.installed&&!n.enabled&&o.createElement(C.Button,{onClick:()=>e.performAction("enable",n),minimal:true,small:true},c.__("Enable"))))))}function R(e){const t=e.translator||l.nullTranslator;const n=t.load("jupyterlab");const a=[];for(const r of e.entries){a.push(o.createElement(D,{entry:r,listMode:e.listMode,viewType:e.viewType,key:r.name,performAction:e.performAction,translator:t}))}let s;if(e.numPages>1){s=o.createElement("div",{className:"jp-extensionmanager-pagination"},o.createElement(w.Z,{previousLabel:"<",nextLabel:">",breakLabel:o.createElement("a",{href:""},"..."),breakClassName:"break-me",pageCount:e.numPages,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:t=>e.onPage(t.selected),containerClassName:"pagination",activeClassName:"active"}))}const i=o.createElement("ul",{className:"jp-extensionmanager-listview"},a);return o.createElement("div",{className:"jp-extensionmanager-listview-wrapper"},a.length>0?i:o.createElement("div",{key:"message",className:"jp-extensionmanager-listview-message"},n.__("No entries")),s)}function O(e){return o.createElement("div",{key:"error-msg",className:"jp-extensionmanager-error"},e.children)}class T extends o.Component{constructor(e){super(e);this.state={isOpen:e.isOpen?true:false}}render(){let e=this.state.isOpen?N:P;let t=this.state.isOpen;let n="jp-extensionmanager-headerText";if(this.props.disabled){e=P;t=false;n="jp-extensionmanager-headerTextDisabled"}return o.createElement(o.Fragment,null,o.createElement("header",null,o.createElement(a.ToolbarButtonComponent,{icon:e,onClick:()=>{this.handleCollapse()}}),o.createElement("span",{className:n},this.props.header),!this.props.disabled&&this.props.headerElements),o.createElement(C.Collapse,{isOpen:t},this.props.children))}handleCollapse(){this.setState({isOpen:!this.state.isOpen},()=>{if(this.props.onCollapse){this.props.onCollapse(this.state.isOpen)}})}UNSAFE_componentWillReceiveProps(e){if(e.forceOpen){this.setState({isOpen:true})}}}class I extends a.VDomRenderer{constructor(e,t,n,a){super(new E(e,t,n,a));this.translator=a||l.nullTranslator;this._trans=this.translator.load("jupyterlab");this._settings=n;this._forceOpen=false;this.addClass("jp-extensionmanager-view")}get inputNode(){return this.node.querySelector(".jp-extensionmanager-search-wrapper input")}render(){const e=this.model;if(!e.listMode){return[o.createElement("div",{key:"empty"})]}if(e.listMode==="invalid"){return[o.createElement("div",{style:{padding:8},key:"invalid"},o.createElement("div",null,this._trans.__(`The extension manager is disabled. Please contact your system\nadministrator to verify the listings configuration.`)),o.createElement("div",null,o.createElement("a",{href:"https://jupyterlab.readthedocs.io/en/stable/user/extensions.html",target:"_blank",rel:"noopener noreferrer"},this._trans.__("Read more in the JupyterLab documentation."))))]}const t=Math.ceil(e.totalEntries/e.pagination);const n=[o.createElement(A,{key:"searchbar",placeholder:this._trans.__("SEARCH"),disabled:!E.isDisclaimed(),settings:this._settings})];if(e.promptBuild){n.push(o.createElement(S,{key:"promt",translator:this.translator,performBuild:()=>{e.performBuild()},ignoreBuild:()=>{e.ignoreBuildRecommendation()}}))}n.push(o.createElement("div",{key:"pending",className:`jp-extensionmanager-pending ${e.hasPendingActions()?"jp-mod-hasPending":""}`}));const s=[];s.push(o.createElement(T,{key:"warning-section",isOpen:!E.isDisclaimed(),disabled:false,header:this._trans.__("Warning")},o.createElement("div",{className:"jp-extensionmanager-disclaimer"},o.createElement("div",null,this._trans.__(`The JupyterLab development team is excited to have a robust\nthird-party extension community. However, we do not review\nthird-party extensions, and some extensions may introduce security\nrisks or contain malicious code that runs on your machine.`)),o.createElement("div",{style:{paddingTop:8}},E.isDisclaimed()&&o.createElement(C.Button,{className:"jp-extensionmanager-disclaimer-disable",onClick:e=>{this._settings.set("disclaimed",false).catch(e=>{console.error(`Something went wrong when setting disclaimed.\n${e}`)})}},this._trans.__("Disable")),!E.isDisclaimed()&&o.createElement(C.Button,{className:"jp-extensionmanager-disclaimer-enable",onClick:e=>{this._forceOpen=true;this._settings.set("disclaimed",true).catch(e=>{console.error(`Something went wrong when setting disclaimed.\n${e}`)})}},this._trans.__("Enable"))))));if(!e.initialized){s.push(o.createElement("div",{key:"loading-placeholder",className:"jp-extensionmanager-loader"},this._trans.__("Updating extensions list")))}else if(e.serverConnectionError!==null){s.push(o.createElement(O,{key:"error-msg"},o.createElement("p",null,this._trans.__(`Error communicating with server extension. Consult the documentation\n            for how to ensure that it is enabled.`)),o.createElement("p",null,this._trans.__("Reason given:")),o.createElement("pre",null,e.serverConnectionError)))}else if(e.serverRequirementsError!==null){s.push(o.createElement(O,{key:"server-requirements-error"},o.createElement("p",null,this._trans.__("The server has some missing requirements for installing extensions.")),o.createElement("p",null,this._trans.__("Details:")),o.createElement("pre",null,e.serverRequirementsError)))}else{const n=[];if(e.installedError!==null){n.push(o.createElement(O,{key:"install-error"},`Error querying installed extensions${e.installedError?`: ${e.installedError}`:"."}`))}else{n.push(o.createElement(R,{key:"installed-items",listMode:e.listMode,viewType:"installed",entries:e.installed,numPages:1,translator:this.translator,onPage:e=>{},performAction:this.onAction.bind(this)}))}s.push(o.createElement(T,{key:"installed-section",isOpen:E.isDisclaimed(),forceOpen:this._forceOpen,disabled:!E.isDisclaimed(),header:this._trans.__("Installed"),headerElements:o.createElement(a.ToolbarButtonComponent,{key:"refresh-button",icon:C.refreshIcon,onClick:()=>{e.refreshInstalled()},tooltip:this._trans.__("Refresh extension list")})},n));const i=[];if(e.searchError!==null){i.push(o.createElement(O,{key:"search-error"},`Error searching for extensions${e.searchError?`: ${e.searchError}`:"."}`))}else{i.push(o.createElement(R,{key:"search-items",listMode:e.listMode,viewType:"searchResult",entries:e.searchResult.filter(t=>e.installed.indexOf(t)===-1),numPages:t,onPage:e=>{this.onPage(e)},performAction:this.onAction.bind(this),translator:this.translator}))}s.push(o.createElement(T,{key:"search-section",isOpen:E.isDisclaimed(),forceOpen:this._forceOpen,disabled:!E.isDisclaimed(),header:e.query?this._trans.__("Search Results"):this._trans.__("Discover"),onCollapse:t=>{if(t&&e.query===null){e.query=""}}},i))}n.push(o.createElement("div",{key:"content",className:"jp-extensionmanager-content"},s));this._forceOpen=false;return n}onSearch(e){this.model.query=e}onPage(e){this.model.page=e}onAction(e,t){switch(e){case"install":return this.model.install(t);case"uninstall":return this.model.uninstall(t);case"enable":return this.model.enable(t);case"disable":return this.model.disable(t);default:throw new Error(`Invalid action: ${e}`)}}handleEvent(e){switch(e.type){case"input":this.onSearch(this.inputNode.value);break;case"focus":case"blur":this._toggleFocused();break;default:break}}onBeforeAttach(e){this.node.addEventListener("input",this);this.node.addEventListener("focus",this,true);this.node.addEventListener("blur",this,true)}onAfterDetach(e){this.node.removeEventListener("input",this);this.node.removeEventListener("focus",this,true);this.node.removeEventListener("blur",this,true)}onActivateRequest(e){if(this.isAttached){const e=this.inputNode;if(e){e.focus();e.select()}}}_toggleFocused(){const e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e)}}},26070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=n(55561);var s=l(a);var i=n(45697);var r=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var n=t.breakLabel,a=t.breakClassName,i=t.breakLinkClassName,r=t.onClick;var l=a||"break";return s.default.createElement("li",{className:l},s.default.createElement("a",{className:i,onClick:r,role:"button",tabIndex:"0",onKeyPress:r},n))};o.propTypes={breakLabel:r.default.oneOfType([r.default.string,r.default.node]),breakClassName:r.default.string,breakLinkClassName:r.default.string,onClick:r.default.func.isRequired};t.default=o},88223:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=n(55561);var s=l(a);var i=n(45697);var r=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var o=function e(t){var n=t.pageClassName;var a=t.pageLinkClassName;var i=t.onClick;var r=t.href;var l=t.ariaLabel||"Page "+t.page+(t.extraAriaContext?" "+t.extraAriaContext:"");var o=null;if(t.selected){o="page";l=t.ariaLabel||"Page "+t.page+" is your current page";if(typeof n!=="undefined"){n=n+" "+t.activeClassName}else{n=t.activeClassName}if(typeof a!=="undefined"){if(typeof t.activeLinkClassName!=="undefined"){a=a+" "+t.activeLinkClassName}}else{a=t.activeLinkClassName}}return s.default.createElement("li",{className:n},s.default.createElement("a",{onClick:i,role:"button",className:a,href:r,tabIndex:"0","aria-label":l,"aria-current":o,onKeyPress:i},t.page))};o.propTypes={onClick:r.default.func.isRequired,selected:r.default.bool.isRequired,pageClassName:r.default.string,pageLinkClassName:r.default.string,activeClassName:r.default.string,activeLinkClassName:r.default.string,extraAriaContext:r.default.string,href:r.default.string,ariaLabel:r.default.string,page:r.default.number.isRequired};t.default=o},30677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||false;a.configurable=true;if("value"in a)a.writable=true;Object.defineProperty(e,a.key,a)}}return function(t,n,a){if(n)e(t.prototype,n);if(a)e(t,a);return t}}();var s=n(55561);var i=h(s);var r=n(45697);var l=h(r);var o=n(88223);var c=h(o);var d=n(26070);var u=h(d);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var g=function(e){f(t,e);function t(e){p(this,t);var n=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handlePreviousPage=function(e){var t=n.state.selected;e.preventDefault?e.preventDefault():e.returnValue=false;if(t>0){n.handlePageSelected(t-1,e)}};n.handleNextPage=function(e){var t=n.state.selected;var a=n.props.pageCount;e.preventDefault?e.preventDefault():e.returnValue=false;if(t<a-1){n.handlePageSelected(t+1,e)}};n.handlePageSelected=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=false;if(n.state.selected===e)return;n.setState({selected:e});n.callCallback(e)};n.handleBreakClick=function(e,t){t.preventDefault?t.preventDefault():t.returnValue=false;var a=n.state.selected;n.handlePageSelected(a<e?n.getForwardJump():n.getBackwardJump(),t)};n.callCallback=function(e){if(typeof n.props.onPageChange!=="undefined"&&typeof n.props.onPageChange==="function"){n.props.onPageChange({selected:e})}};n.pagination=function(){var e=[];var t=n.props,a=t.pageRangeDisplayed,s=t.pageCount,r=t.marginPagesDisplayed,l=t.breakLabel,o=t.breakClassName,c=t.breakLinkClassName;var d=n.state.selected;if(s<=a){for(var h=0;h<s;h++){e.push(n.getPageElement(h))}}else{var p=a/2;var m=a-p;if(d>s-a/2){m=s-d;p=a-m}else if(d<a/2){p=d;m=a-p}var f=void 0;var g=void 0;var v=void 0;var _=function e(t){return n.getPageElement(t)};for(f=0;f<s;f++){g=f+1;if(g<=r){e.push(_(f));continue}if(g>s-r){e.push(_(f));continue}if(f>=d-p&&f<=d+m){e.push(_(f));continue}if(l&&e[e.length-1]!==v){v=i.default.createElement(u.default,{key:f,breakLabel:l,breakClassName:o,breakLinkClassName:c,onClick:n.handleBreakClick.bind(null,f)});e.push(v)}}}return e};var a=void 0;if(e.initialPage){a=e.initialPage}else if(e.forcePage){a=e.forcePage}else{a=0}n.state={selected:a};return n}a(t,[{key:"componentDidMount",value:function e(){var t=this.props,n=t.initialPage,a=t.disableInitialCallback,s=t.extraAriaContext;if(typeof n!=="undefined"&&!a){this.callCallback(n)}if(s){console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead.")}}},{key:"componentDidUpdate",value:function e(t){if(typeof this.props.forcePage!=="undefined"&&this.props.forcePage!==t.forcePage){this.setState({selected:this.props.forcePage})}}},{key:"getForwardJump",value:function e(){var t=this.state.selected;var n=this.props,a=n.pageCount,s=n.pageRangeDisplayed;var i=t+s;return i>=a?a-1:i}},{key:"getBackwardJump",value:function e(){var t=this.state.selected;var n=this.props.pageRangeDisplayed;var a=t-n;return a<0?0:a}},{key:"hrefBuilder",value:function e(t){var n=this.props,e=n.hrefBuilder,a=n.pageCount;if(e&&t!==this.state.selected&&t>=0&&t<a){return e(t+1)}}},{key:"ariaLabelBuilder",value:function e(t){var n=t===this.state.selected;if(this.props.ariaLabelBuilder&&t>=0&&t<this.props.pageCount){var a=this.props.ariaLabelBuilder(t+1,n);if(this.props.extraAriaContext&&!n){a=a+" "+this.props.extraAriaContext}return a}}},{key:"getPageElement",value:function e(t){var n=this.state.selected;var a=this.props,s=a.pageClassName,r=a.pageLinkClassName,l=a.activeClassName,o=a.activeLinkClassName,d=a.extraAriaContext;return i.default.createElement(c.default,{key:t,onClick:this.handlePageSelected.bind(null,t),selected:n===t,pageClassName:s,pageLinkClassName:r,activeClassName:l,activeLinkClassName:o,extraAriaContext:d,href:this.hrefBuilder(t),ariaLabel:this.ariaLabelBuilder(t),page:t+1})}},{key:"render",value:function e(){var t=this.props,n=t.disabledClassName,a=t.previousClassName,s=t.nextClassName,r=t.pageCount,l=t.containerClassName,o=t.previousLinkClassName,c=t.previousLabel,d=t.nextLinkClassName,u=t.nextLabel;var h=this.state.selected;var p=a+(h===0?" "+n:"");var m=s+(h===r-1?" "+n:"");var f=h===0?"true":"false";var g=h===r-1?"true":"false";return i.default.createElement("ul",{className:l},i.default.createElement("li",{className:p},i.default.createElement("a",{onClick:this.handlePreviousPage,className:o,href:this.hrefBuilder(h-1),tabIndex:"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":f},c)),this.pagination(),i.default.createElement("li",{className:m},i.default.createElement("a",{onClick:this.handleNextPage,className:d,href:this.hrefBuilder(h+1),tabIndex:"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":g},u)))}}]);return t}(s.Component);g.propTypes={pageCount:l.default.number.isRequired,pageRangeDisplayed:l.default.number.isRequired,marginPagesDisplayed:l.default.number.isRequired,previousLabel:l.default.node,nextLabel:l.default.node,breakLabel:l.default.oneOfType([l.default.string,l.default.node]),hrefBuilder:l.default.func,onPageChange:l.default.func,initialPage:l.default.number,forcePage:l.default.number,disableInitialCallback:l.default.bool,containerClassName:l.default.string,pageClassName:l.default.string,pageLinkClassName:l.default.string,activeClassName:l.default.string,activeLinkClassName:l.default.string,previousClassName:l.default.string,nextClassName:l.default.string,previousLinkClassName:l.default.string,nextLinkClassName:l.default.string,disabledClassName:l.default.string,breakClassName:l.default.string,breakLinkClassName:l.default.string,extraAriaContext:l.default.string,ariaLabelBuilder:l.default.func};g.defaultProps={pageCount:10,pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousClassName:"previous",nextClassName:"next",previousLabel:"Previous",nextLabel:"Next",breakLabel:"...",disabledClassName:"disabled",disableInitialCallback:false};t.default=g},43352:(e,t,n)=>{"use strict";var a;a={value:true};var s=n(30677);var i=r(s);function r(e){return e&&e.__esModule?e:{default:e}}t.Z=i.default}}]);