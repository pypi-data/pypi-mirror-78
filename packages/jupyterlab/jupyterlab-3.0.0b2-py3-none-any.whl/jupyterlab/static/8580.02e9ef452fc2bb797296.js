(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[8580],{88580:(t,e,n)=>{"use strict";n.r(e);n.d(e,{nullTranslator:()=>s,Gettext:()=>r,TranslationManager:()=>g,requestTranslationsAPI:()=>h,ITranslator:()=>d,ITranslatorConnector:()=>p,TranslatorConnector:()=>_});class r{constructor(t){t=t||{};this._defaults={domain:"messages",locale:document.documentElement.getAttribute("lang")||"en",pluralFunc:function(t){return{nplurals:2,plural:t!=1?1:0}},contextDelimiter:String.fromCharCode(4)};this._locale=(t.locale||this._defaults.locale).replace("_","-");this._domain=t.domain||this._defaults.domain;this._contextDelimiter=t.contextDelimiter||this._defaults.contextDelimiter;this._pluralFuncs={};this._dictionary={};this._pluralForms={};if(t.messages){this._dictionary[this._domain]={};this._dictionary[this._domain][this._locale]=t.messages}if(t.pluralForms){this._pluralForms[this._locale]=t.pluralForms}}setContextDelimiter(t){this._contextDelimiter=t}getContextDelimiter(){return this._contextDelimiter}setLocale(t){this._locale=t.replace("_","-")}getLocale(){return this._locale}setDomain(t){this._domain=t}getDomain(){return this._domain}static strfmt(t,...e){return t.replace(/%%/g,"%% ").replace(/%(\d+)/g,(function(t,n){return e[n-1]})).replace(/%% /g,"%")}loadJSON(t,e){if(!t[""]||!t[""]["language"]||!t[""]["pluralForms"]){throw new Error(`Wrong jsonData, it must have an empty key ("") with "language" and "pluralForms" information: ${t}`)}let n=t[""];let r=JSON.parse(JSON.stringify(t));delete r[""];this.setMessages(e||this._defaults.domain,n["language"],r,n["pluralForms"])}__(t,...e){return this.gettext(t,...e)}_n(t,e,n,...r){return this.ngettext(t,e,n,...r)}_p(t,e,...n){return this.pgettext(t,e,...n)}_np(t,e,n,r,...l){return this.npgettext(t,e,n,r,...l)}gettext(t,...e){return this.dcnpgettext("","",t,"",0,...e)}ngettext(t,e,n,...r){return this.dcnpgettext("","",t,e,n,...r)}pgettext(t,e,...n){return this.dcnpgettext("",t,e,"",0,...n)}npgettext(t,e,n,r,...l){return this.dcnpgettext("",t,e,n,r,...l)}dcnpgettext(t,e,n,r,l,...a){t=t||this._domain;let s;let i=e?e+this._contextDelimiter+n:n;let o={pluralForm:false};let u=false;let c=this._locale;let h=this.expandLocale(this._locale);for(let _ in h){c=h[_];u=this._dictionary[t]&&this._dictionary[t][c]&&this._dictionary[t][c][i];if(r){u=u&&this._dictionary[t][c][i].length>1}else{u=u&&this._dictionary[t][c][i].length==1}if(u){o.locale=c;break}}if(!u){s=[n];o.pluralFunc=this._defaults.pluralFunc}else{s=this._dictionary[t][c][i]}if(!r){return this.t(s,l,o,...a)}o.pluralForm=true;let p=u?s:[n,r];return this.t(p,l,o,...a)}expandLocale(t){let e=[t];let n=t.lastIndexOf("-");while(n>0){t=t.slice(0,n);e.push(t);n=t.lastIndexOf("-")}return e}getPluralFunc(t){let e=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!e.test(t))throw new Error(r.strfmt('The plural form "%1" is not valid',t));return new Function("n","let plural, nplurals; "+t+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")}removeContext(t){if(t.indexOf(this._contextDelimiter)!==-1){let e=t.split(this._contextDelimiter);return e[1]}return t}t(t,e,n,...l){if(!n.pluralForm)return r.strfmt(this.removeContext(t[0]),...l);let a;if(n.pluralFunc){a=n.pluralFunc(e)}else if(!this._pluralFuncs[n.locale||""]){this._pluralFuncs[n.locale||""]=this.getPluralFunc(this._pluralForms[n.locale||""]);a=this._pluralFuncs[n.locale||""](e)}else{a=this._pluralFuncs[n.locale||""](e)}if("undefined"===typeof!a.plural||a.plural>a.nplurals||t.length<=a.plural)a.plural=0;return r.strfmt(this.removeContext(t[a.plural]),...[e].concat(l))}setMessages(t,e,n,r){if(r)this._pluralForms[e]=r;if(!this._dictionary[t])this._dictionary[t]={};this._dictionary[t][e]=n}}class l{constructor(t){this._languageBundle=t}load(t){return this._languageBundle}locale(){return"en"}}class a{__(t,...e){return this.gettext(t,...e)}_n(t,e,n,...r){return this.ngettext(t,e,n,...r)}_p(t,e,...n){return this.pgettext(t,e,...n)}_np(t,e,n,r,...l){return this.npgettext(t,e,n,r,...l)}gettext(t,...e){return r.strfmt(t,...e)}ngettext(t,e,n,...l){return r.strfmt(n==1?t:e,...[n].concat(l))}pgettext(t,e,...n){return r.strfmt(e,...n)}npgettext(t,e,n,r,...l){return this.ngettext(e,n,r,...l)}dcnpgettext(t,e,n,r,l,...a){return this.ngettext(n,r,l,...a)}}const s=new l(new a);var i=n(87570);var o=n(90302);var u=n(42664);var c=n(52191);async function h(t="",e={}){const n=u.ServerConnection.makeSettings();const r=i.URLExt.join(n.baseUrl,"/lab/api/translations/",t);let l;try{l=await u.ServerConnection.makeRequest(r,e,n)}catch(s){throw new u.ServerConnection.NetworkError(s)}let a=await l.text();if(a.length>0){try{a=JSON.parse(a)}catch(s){console.error("Not a JSON response body.",l)}}if(!l.ok){throw new u.ServerConnection.ResponseError(l,a.message||a)}return a}const p=new c.Token("@jupyterlab/translation:ITranslatorConnector");class _ extends o.DataConnector{async fetch(t){return h(t.language)}}const d=new c.Token("@jupyterlab/translation:ITranslator");class g{constructor(){this._domainData={};this._englishBundle=new r;this._translationBundles={};this._connector=new _}async fetch(t){var e,n;this._currentLocale=t;this._languageData=await this._connector.fetch({language:t});this._domainData=((e=this._languageData)===null||e===void 0?void 0:e.data)||{};const r=(n=this._languageData)===null||n===void 0?void 0:n.message;if(r&&t!=="en"){console.warn(r)}}load(t){if(this._domainData){if(this._currentLocale=="en"){return this._englishBundle}else{if(!(t in this._translationBundles)){let e=new r({domain:t,locale:this._currentLocale});if(t in this._domainData){let n=this._domainData[t][""];if("plural_forms"in n){n.pluralForms=n.plural_forms;delete n.plural_forms;this._domainData[t][""]=n}e.loadJSON(this._domainData[t],t)}this._translationBundles[t]=e}return this._translationBundles[t]}}else{return this._englishBundle}}}}}]);