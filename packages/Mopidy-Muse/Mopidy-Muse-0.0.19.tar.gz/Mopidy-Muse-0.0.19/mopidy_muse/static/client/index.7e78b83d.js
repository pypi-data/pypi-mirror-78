import{S as a,a as l,s,P as t,ab as n,F as c,j as e,O as r,z as o,A as i,g as u,e as f,b as h,t as m,u as d,c as p,d as g,f as $,l as v,v as k,h as b,w as E,k as w,x as y,n as x,r as I,o as D,U as P,C as V,B as N,J as T,a8 as A,K as C,W as O,ac as B,m as M,N as S,ad as U,ae as j,af as L,H,a1 as R,i as q,ag as F,ah as z,ai as J,aj as K,ak as W,R as _,al as G,am as Q,an as X,ao as Y,a2 as Z,a3 as aa}from"./client.48c6f2da.js";import{c as la}from"./clickOutside.69487d64.js";function sa(a){let l,s,t,n={ctx:a,current:null,token:null,pending:ra,then:na,catch:ta,value:10,error:11,blocks:[,,,]};return r(s=a[2],n),{c(){l=c(),n.block.c()},l(a){l=c(),n.block.l(a)},m(a,s){e(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l,t=!0},p(l,t){if(a=l,n.ctx=a,4&t&&s!==(s=a[2])&&r(s,n));else{const l=a.slice();l[10]=n.resolved,n.block.p(l,t)}},i(a){t||(o(n.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=n.blocks[a];i(l)}t=!1},d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function ta(a){let l,s=a[11].message+"";return{c(){l=m(s)},l(a){l=v(a,s)},m(a,s){e(a,l,s)},p(a,t){4&t&&s!==(s=a[11].message+"")&&M(l,s)},i:S,o:S,d(a){a&&u(l)}}}function na(a){let l,s,t,n;const r=[ea,ca],f=[];function h(a,l){return a[10]?0:1}return l=h(a),s=f[l]=r[l](a),{c(){s.c(),t=c()},l(a){s.l(a),t=c()},m(a,s){f[l].m(a,s),e(a,t,s),n=!0},p(a,n){let c=l;(l=h(a))===c?f[l].p(a,n):(P(),i(f[c],1,1,()=>{f[c]=null}),V(),(s=f[l])||(s=f[l]=r[l](a)).c(),o(s,1),s.m(t.parentNode,t))},i(a){n||(o(s),n=!0)},o(a){i(s),n=!1},d(a){f[l].d(a),a&&u(t)}}}function ca(a){let l;return{c(){l=m("Error")},l(a){l=v(a,"Error")},m(a,s){e(a,l,s)},p:S,i:S,o:S,d(a){a&&u(l)}}}function ea(a){let l,s;const n=new t({props:{icon:j,class:"icon"}});return{c(){l=f("button"),d(n.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=g(l);k(n.$$.fragment,s),s.forEach(u),this.h()},h(){b(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),y(n,l,null),s=!0},p:S,i(a){s||(o(n.$$.fragment,a),s=!0)},o(a){i(n.$$.fragment,a),s=!1},d(a){a&&u(l),N(n)}}}function ra(a){let l,s;const n=new t({props:{icon:U,spin:!0,class:"icon"}});return{c(){l=f("button"),d(n.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=g(l);k(n.$$.fragment,s),s.forEach(u),this.h()},h(){b(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),y(n,l,null),s=!0},p:S,i(a){s||(o(n.$$.fragment,a),s=!0)},o(a){i(n.$$.fragment,a),s=!1},d(a){a&&u(l),N(n)}}}function oa(a){let l,s,c,r,T,A,C,O,B,M,S,U,j,L,H,R,q,F,z,J,K,W,_,G,Q;const X=new t({props:{icon:n,class:"icon"}});let Y=a[2]&&sa(a);return{c(){l=f("div"),s=f("div"),c=h(),r=f("div"),T=f("header"),A=f("p"),C=m("Create playlist"),O=h(),B=f("a"),d(X.$$.fragment),S=h(),U=f("section"),j=f("label"),L=m("Name"),H=h(),R=f("input"),q=h(),F=f("footer"),z=f("button"),J=m("Save changes"),K=h(),Y&&Y.c(),W=h(),_=f("button"),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0}),g(s).forEach(u),c=$(t),r=p(t,"DIV",{class:!0});var n=g(r);T=p(n,"HEADER",{class:!0});var e=g(T);A=p(e,"P",{class:!0});var o=g(A);C=v(o,"Create playlist"),o.forEach(u),O=$(e),B=p(e,"A",{href:!0,"aria-label":!0});var i=g(B);k(X.$$.fragment,i),i.forEach(u),e.forEach(u),S=$(n),U=p(n,"SECTION",{class:!0});var f=g(U);j=p(f,"LABEL",{class:!0});var h=g(j);L=v(h,"Name"),h.forEach(u),H=$(f),R=p(f,"INPUT",{class:!0,type:!0,name:!0,id:!0}),f.forEach(u),q=$(n),F=p(n,"FOOTER",{class:!0});var m=g(F);z=p(m,"BUTTON",{class:!0});var d=g(z);J=v(d,"Save changes"),d.forEach(u),K=$(m),Y&&Y.l(m),m.forEach(u),n.forEach(u),W=$(t),_=p(t,"BUTTON",{class:!0,"aria-label":!0}),g(_).forEach(u),t.forEach(u),this.h()},h(){b(s,"class","modal-background svelte-vctgx4"),b(A,"class","modal-card-title svelte-vctgx4"),b(B,"href",M=null),b(B,"aria-label","close"),b(T,"class","modal-card-head svelte-vctgx4"),b(j,"class","label"),b(R,"class","input svelte-vctgx4"),b(R,"type","text"),b(R,"name","playlist name"),b(R,"id","playlist name"),b(U,"class","modal-card-body svelte-vctgx4"),b(z,"class","button is-success svelte-vctgx4"),b(F,"class","modal-card-foot svelte-vctgx4"),b(r,"class","modal-card svelte-vctgx4"),b(_,"class","modal-close is-large svelte-vctgx4"),b(_,"aria-label","close"),b(l,"class","modal svelte-vctgx4"),E(l,"is-active",a[0])},m(t,n,o){e(t,l,n),w(l,s),w(l,c),w(l,r),w(r,T),w(T,A),w(A,C),w(T,O),w(T,B),y(X,B,null),w(r,S),w(r,U),w(U,j),w(j,L),w(U,H),w(U,R),x(R,a[1]),w(r,q),w(r,F),w(F,z),w(z,J),w(F,K),Y&&Y.m(F,null),w(l,W),w(l,_),G=!0,o&&I(Q),Q=[D(s,"click",a[6]),D(B,"click",a[7]),D(R,"input",a[8]),D(z,"click",a[3]),D(_,"click",a[9])]},p(a,[s]){2&s&&R.value!==a[1]&&x(R,a[1]),a[2]?Y?(Y.p(a,s),o(Y,1)):((Y=sa(a)).c(),o(Y,1),Y.m(F,null)):Y&&(P(),i(Y,1,1,()=>{Y=null}),V()),1&s&&E(l,"is-active",a[0])},i(a){G||(o(X.$$.fragment,a),o(Y),G=!0)},o(a){i(X.$$.fragment,a),i(Y),G=!1},d(a){a&&u(l),N(X),Y&&Y.d(),I(Q)}}}function ia(a,l,s){let t;T(a,A,a=>s(4,t=a));let n,c="",{showCreatePlaylistModal:e}=l;C(async()=>{O(A,t=await B())});const r=async()=>{return!!await t.playlists.create({name:c})&&(setTimeout(()=>{s(0,e=!e)},1500),!0)};return a.$set=(a=>{"showCreatePlaylistModal"in a&&s(0,e=a.showCreatePlaylistModal)}),[e,c,n,()=>{s(2,n=r())},t,r,()=>s(0,e=!e),()=>s(0,e=!e),function(){c=this.value,s(1,c)},()=>s(0,e=!e)]}class ua extends a{constructor(a){super(),l(this,a,ia,oa,s,{showCreatePlaylistModal:0})}}function fa(a,l,s){const t=a.slice();return t[11]=l[s],t[13]=s,t}function ha(a){let l,s,t,n={ctx:a,current:null,token:null,pending:wa,then:da,catch:ma,value:9,error:10,blocks:[,,,]};return r(s=a[0],n),{c(){l=c(),n.block.c()},l(a){l=c(),n.block.l(a)},m(a,s){e(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l,t=!0},p(l,t){if(a=l,n.ctx=a,1&t&&s!==(s=a[0])&&r(s,n));else{const l=a.slice();l[9]=n.resolved,n.block.p(l,t)}},i(a){t||(o(n.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=n.blocks[a];i(l)}t=!1},d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function ma(a){let l,s,t=a[10].message+"";return{c(){l=f("p"),s=m(t),this.h()},l(a){l=p(a,"P",{class:!0,style:!0});var n=g(l);s=v(n,t),n.forEach(u),this.h()},h(){b(l,"class","list-item"),R(l,"color","red")},m(a,t){e(a,l,t),w(l,s)},p(a,l){1&l&&t!==(t=a[10].message+"")&&M(s,t)},i:S,o:S,d(a){a&&u(l)}}}function da(a){let l,s,t=a[3],n=[];for(let l=0;l<t.length;l+=1)n[l]=Ea(fa(a,t,l));const r=a=>i(n[a],1,1,()=>{n[a]=null});let f=null;return t.length||(f=pa()),{c(){for(let a=0;a<n.length;a+=1)n[a].c();l=c(),f&&f.c()},l(a){for(let l=0;l<n.length;l+=1)n[l].l(a);l=c(),f&&f.l(a)},m(a,t){for(let l=0;l<n.length;l+=1)n[l].m(a,t);e(a,l,t),f&&f.m(a,t),s=!0},p(a,s){if(26&s){let c;for(t=a[3],c=0;c<t.length;c+=1){const e=fa(a,t,c);n[c]?(n[c].p(e,s),o(n[c],1)):(n[c]=Ea(e),n[c].c(),o(n[c],1),n[c].m(l.parentNode,l))}for(P(),c=t.length;c<n.length;c+=1)r(c);V(),t.length?f&&(f.d(1),f=null):f||((f=pa()).c(),f.m(l.parentNode,l))}},i(a){if(!s){for(let a=0;a<t.length;a+=1)o(n[a]);s=!0}},o(a){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)i(n[a]);s=!1},d(a){W(n,a),a&&u(l),f&&f.d(a)}}}function pa(a){let l,s,t,n;return{c(){l=f("div"),s=f("p"),t=m("loading"),n=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var c=g(l);s=p(c,"P",{});var e=g(s);t=v(e,"loading"),e.forEach(u),n=$(c),c.forEach(u),this.h()},h(){b(l,"class","list-item")},m(a,c){e(a,l,c),w(l,s),w(s,t),w(l,n)},d(a){a&&u(l)}}}function ga(a){let l,s=a[10].message+"";return{c(){l=m(s)},l(a){l=v(a,s)},m(a,s){e(a,l,s)},p(a,t){8&t&&s!==(s=a[10].message+"")&&M(l,s)},d(a){a&&u(l)}}}function $a(a){let l,s,t,n=(a[14].tracks?a[14].tracks.length:"0")+"";return{c(){l=m("("),s=m(n),t=m(")")},l(a){l=v(a,"("),s=v(a,n),t=v(a,")")},m(a,n){e(a,l,n),e(a,s,n),e(a,t,n)},p(a,l){8&l&&n!==(n=(a[14].tracks?a[14].tracks.length:"0")+"")&&M(s,n)},d(a){a&&u(l),a&&u(s),a&&u(t)}}}function va(a){let l;return{c(){l=m("loading..")},l(a){l=v(a,"loading..")},m(a,s){e(a,l,s)},p:S,d(a){a&&u(l)}}}function ka(a){let l;const s=new t({props:{icon:Z,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){d(s.$$.fragment)},l(a){k(s.$$.fragment,a)},m(a,t){y(s,a,t),l=!0},p:S,i(a){l||(o(s.$$.fragment,a),l=!0)},o(a){i(s.$$.fragment,a),l=!1},d(a){N(s,a)}}}function ba(a){let l;const s=new t({props:{icon:aa,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){d(s.$$.fragment)},l(a){k(s.$$.fragment,a)},m(a,t){y(s,a,t),l=!0},p:S,i(a){l||(o(s.$$.fragment,a),l=!0)},o(a){i(s.$$.fragment,a),l=!1},d(a){N(s,a)}}}function Ea(a){let l,s,n,c,x,T,A,C,O,B,S,U,j,L,H,R,W,X,Y,Z,aa,la,sa,ta,na,ca,ea,ra,oa,ia,ua,fa=a[11].name+"",ha={ctx:a,current:null,token:null,pending:va,then:$a,catch:ga,value:14,error:10};r(C=K(a[11].uri),ha);const ma=[ba,ka],da=[];function pa(a,l){return a[1]==a[13]?0:1}function Ea(...l){return a[7](a[13],...l)}j=pa(a),L=da[j]=ma[j](a);const wa=new t({props:{icon:_,class:"icon is-small"}}),ya=new t({props:{icon:G,class:"icon is-small"}}),xa=new t({props:{icon:Q,class:"icon is-small"}});return{c(){l=f("div"),s=f("div"),n=f("a"),c=m(fa),T=h(),A=f("div"),ha.block.c(),O=h(),B=f("div"),S=f("div"),U=f("div"),L.c(),H=h(),R=f("div"),W=f("div"),X=f("a"),d(wa.$$.fragment),Y=m(" \n                        Play"),aa=h(),la=f("a"),d(ya.$$.fragment),sa=m(" \n                        Shuffle"),na=h(),ca=f("a"),d(xa.$$.fragment),ea=m(" \n                        Add to queue"),oa=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0});var e=g(s);n=p(e,"A",{class:!0,href:!0});var r=g(n);c=v(r,fa),r.forEach(u),T=$(e),A=p(e,"DIV",{class:!0});var o=g(A);ha.block.l(o),o.forEach(u),O=$(e),B=p(e,"DIV",{class:!0});var i=g(B);S=p(i,"DIV",{class:!0});var f=g(S);U=p(f,"DIV",{class:!0});var h=g(U);L.l(h),h.forEach(u),H=$(f),R=p(f,"DIV",{class:!0,id:!0,role:!0});var m=g(R);W=p(m,"DIV",{class:!0});var d=g(W);X=p(d,"A",{href:!0,class:!0});var b=g(X);k(wa.$$.fragment,b),Y=v(b," \n                        Play"),b.forEach(u),aa=$(d),la=p(d,"A",{href:!0,class:!0});var E=g(la);k(ya.$$.fragment,E),sa=v(E," \n                        Shuffle"),E.forEach(u),na=$(d),ca=p(d,"A",{href:!0,class:!0});var w=g(ca);k(xa.$$.fragment,w),ea=v(w," \n                        Add to queue"),w.forEach(u),d.forEach(u),m.forEach(u),f.forEach(u),i.forEach(u),e.forEach(u),oa=$(t),t.forEach(u),this.h()},h(){b(n,"class","column"),b(n,"href",x="playlists/"+a[11].slug),b(A,"class","column is-narrow"),b(U,"class","dropdown-trigger"),b(X,"href",Z=null),b(X,"class","dropdown-item"),b(la,"href",ta=null),b(la,"class","dropdown-item"),b(ca,"href",ra=null),b(ca,"class","dropdown-item"),b(W,"class","dropdown-content"),b(R,"class","dropdown-menu"),b(R,"id","dropdown-menu"),b(R,"role","menu"),b(S,"class","dropdown is-right is-up"),E(S,"is-active",a[1]==a[13]),b(B,"class","column is-narrow"),b(s,"class","columns is-mobile"),b(l,"class","list-item")},m(t,r,o){e(t,l,r),w(l,s),w(s,n),w(n,c),w(s,T),w(s,A),ha.block.m(A,ha.anchor=null),ha.mount=(()=>A),ha.anchor=null,w(s,O),w(s,B),w(B,S),w(S,U),da[j].m(U,null),w(S,H),w(S,R),w(R,W),w(W,X),y(wa,X,null),w(X,Y),w(W,aa),w(W,la),y(ya,la,null),w(la,sa),w(W,na),w(W,ca),y(xa,ca,null),w(ca,ea),w(l,oa),ia=!0,o&&I(ua),ua=[D(U,"click",Ea),D(X,"click",function(){q(F(a[11].uri))&&F(a[11].uri).apply(this,arguments)}),D(la,"click",function(){q(z(a[11].uri))&&z(a[11].uri).apply(this,arguments)}),D(ca,"click",function(){q(J(a[11].uri))&&J(a[11].uri).apply(this,arguments)})]},p(l,s){if(a=l,(!ia||8&s)&&fa!==(fa=a[11].name+"")&&M(c,fa),(!ia||8&s&&x!==(x="playlists/"+a[11].slug))&&b(n,"href",x),ha.ctx=a,8&s&&C!==(C=K(a[11].uri))&&r(C,ha));else{const l=a.slice();l[14]=ha.resolved,ha.block.p(l,s)}let t=j;(j=pa(a))===t?da[j].p(a,s):(P(),i(da[t],1,1,()=>{da[t]=null}),V(),(L=da[j])||(L=da[j]=ma[j](a)).c(),o(L,1),L.m(U,null)),2&s&&E(S,"is-active",a[1]==a[13])},i(a){ia||(o(L),o(wa.$$.fragment,a),o(ya.$$.fragment,a),o(xa.$$.fragment,a),ia=!0)},o(a){i(L),i(wa.$$.fragment,a),i(ya.$$.fragment,a),i(xa.$$.fragment,a),ia=!1},d(a){a&&u(l),ha.block.d(),ha.token=null,ha=null,da[j].d(),N(wa),N(ya),N(xa),I(ua)}}}function wa(a){let l,s,n;const c=new t({props:{icon:U,class:"icon is-24",spin:!0}});return{c(){l=f("p"),d(c.$$.fragment),s=m("\n        Loading playlists .."),this.h()},l(a){l=p(a,"P",{class:!0});var t=g(l);k(c.$$.fragment,t),s=v(t,"\n        Loading playlists .."),t.forEach(u),this.h()},h(){b(l,"class","list-item")},m(a,t){e(a,l,t),y(c,l,null),w(l,s),n=!0},p:S,i(a){n||(o(c.$$.fragment,a),n=!0)},o(a){i(c.$$.fragment,a),n=!1},d(a){a&&u(l),N(c)}}}function ya(a){let l,s,n,c,r,E,x,T,A,C,O,B,M,S;const U=new t({props:{icon:L,class:"icon"}}),j=new ua({props:{showCreatePlaylistModal:a[2]}});let R=a[0]&&ha(a);return{c(){l=f("div"),s=f("div"),n=f("h1"),c=m("Playlists"),r=h(),E=f("div"),x=f("a"),d(U.$$.fragment),A=h(),d(j.$$.fragment),C=h(),O=f("div"),R&&R.c(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0});var e=g(s);n=p(e,"H1",{class:!0});var o=g(n);c=v(o,"Playlists"),o.forEach(u),e.forEach(u),r=$(t),E=p(t,"DIV",{class:!0});var i=g(E);x=p(i,"A",{class:!0,href:!0});var f=g(x);k(U.$$.fragment,f),f.forEach(u),i.forEach(u),t.forEach(u),A=$(a),k(j.$$.fragment,a),C=$(a),O=p(a,"DIV",{class:!0});var h=g(O);R&&R.l(h),h.forEach(u),this.h()},h(){b(n,"class","title"),b(s,"class","column"),b(x,"class","button"),b(x,"href",T=null),b(E,"class","column is-narrow"),b(l,"class","columns is-mobile"),b(O,"class","list is-hoverable")},m(t,o,i){e(t,l,o),w(l,s),w(s,n),w(n,c),w(l,r),w(l,E),w(E,x),y(U,x,null),e(t,A,o),y(j,t,o),e(t,C,o),e(t,O,o),R&&R.m(O,null),M=!0,i&&I(S),S=[D(x,"click",a[6]),H(B=la.call(null,O)),D(O,"click_outside",a[8])]},p(a,[l]){const s={};4&l&&(s.showCreatePlaylistModal=a[2]),j.$set(s),a[0]?R?(R.p(a,l),o(R,1)):((R=ha(a)).c(),o(R,1),R.m(O,null)):R&&(P(),i(R,1,1,()=>{R=null}),V())},i(a){M||(o(U.$$.fragment,a),o(j.$$.fragment,a),o(R),M=!0)},o(a){i(U.$$.fragment,a),i(j.$$.fragment,a),i(R),M=!1},d(a){a&&u(l),N(U),a&&u(A),N(j,a),a&&u(C),a&&u(O),R&&R.d(),I(S)}}}function xa(a,l,s){let t,n,c;T(a,Y,a=>s(3,t=a));let e=!1;C(async()=>{s(0,n=r())});const r=async()=>{O(Y,t=await X())},o=a=>{s(1,c=c==a?null:a)};return[n,c,e,t,o,r,()=>s(2,e=!e),a=>o(a),()=>s(1,c=null)]}export default class extends a{constructor(a){super(),l(this,a,xa,ya,s,{})}}
