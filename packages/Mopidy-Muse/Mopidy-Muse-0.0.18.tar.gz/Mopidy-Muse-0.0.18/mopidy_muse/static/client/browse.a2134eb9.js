import{S as l,a,s,e as n,t as r,b as t,c,d as e,l as o,g as i,f as u,h,j as f,k as m,o as p,m as d,u as $,v as g,w as v,x as w,r as E,i as b,aJ as k,aK as y,aL as A,A as I,C as V,z as D,B as x,O as P,H as O,ar as B,as as j,at as q,ah as L,F as N,G as R,J as H,K as J,P as K,R as U,ai as _,ao as z,U as C,$ as F,N as G,a0 as S,_ as Y,aa as M,au as Q,Y as T,a9 as W,a5 as X}from"./client.c1a1a023.js";import{c as Z}from"./clickOutside.69487d64.js";function ll(l,a,s){const n=l.slice();return n[15]=a[s],n[17]=s,n}function al(l,a,s){const n=l.slice();return n[19]=a[s],n[17]=s,n}function sl(l){let a,s,$,g,v,w,E=l[19].name+"";function b(...a){return l[10](l[19],l[17],...a)}return{c(){a=n("li"),s=n("a"),$=r(E),v=t(),this.h()},l(l){a=c(l,"LI",{class:!0});var n=e(a);s=c(n,"A",{href:!0,class:!0});var r=e(s);$=o(r,E),r.forEach(i),v=u(n),n.forEach(i),this.h()},h(){h(s,"href",g=null),h(s,"class","svelte-g89v9p"),h(a,"class","svelte-g89v9p")},m(l,n,r){f(l,a,n),m(a,s),m(s,$),m(a,v),r&&w(),w=p(s,"click",b)},p(a,s){l=a,1&s&&E!==(E=l[19].name+"")&&d($,E)},d(l){l&&i(a),w()}}}function nl(l){let a,s,d,P,O,B,j,q,L,N,R,H,J,F,G,S,Y,M,Q,T,W;const X=[tl,rl],Z=[];function ll(l,a){return l[4]?0:1}P=ll(l),O=Z[P]=X[P](l);const al=new K({props:{icon:U,class:"icon is-small"}}),sl=new K({props:{icon:_,class:"icon is-small"}}),nl=new K({props:{icon:z,class:"icon is-small"}});return{c(){a=n("div"),s=n("div"),d=n("div"),O.c(),B=t(),j=n("div"),q=n("div"),L=n("a"),$(al.$$.fragment),N=r("  \n            Play now"),H=t(),J=n("a"),$(sl.$$.fragment),F=r("  \n            Play shuffle"),S=t(),Y=n("a"),$(nl.$$.fragment),M=r("  \n            Add to queue"),this.h()},l(l){a=c(l,"DIV",{class:!0});var n=e(a);s=c(n,"DIV",{class:!0});var r=e(s);d=c(r,"DIV",{class:!0});var t=e(d);O.l(t),t.forEach(i),B=u(r),j=c(r,"DIV",{class:!0,id:!0,role:!0});var h=e(j);q=c(h,"DIV",{class:!0});var f=e(q);L=c(f,"A",{href:!0,class:!0});var m=e(L);g(al.$$.fragment,m),N=o(m,"  \n            Play now"),m.forEach(i),H=u(f),J=c(f,"A",{href:!0,class:!0});var p=e(J);g(sl.$$.fragment,p),F=o(p,"  \n            Play shuffle"),p.forEach(i),S=u(f),Y=c(f,"A",{href:!0,class:!0});var $=e(Y);g(nl.$$.fragment,$),M=o($,"  \n            Add to queue"),$.forEach(i),f.forEach(i),h.forEach(i),r.forEach(i),n.forEach(i),this.h()},h(){h(d,"class","dropdown-trigger"),h(L,"href",R=null),h(L,"class","dropdown-item"),h(J,"href",G=null),h(J,"class","dropdown-item"),h(Y,"href",Q=null),h(Y,"class","dropdown-item"),h(q,"class","dropdown-content"),h(j,"class","dropdown-menu"),h(j,"id","dropdown-menu"),h(j,"role","menu"),h(s,"class","dropdown is-right"),v(s,"is-active",l[4]),h(a,"class","column is-narrow")},m(n,r,t){f(n,a,r),m(a,s),m(s,d),Z[P].m(d,null),m(s,B),m(s,j),m(j,q),m(q,L),w(al,L,null),m(L,N),m(q,H),m(q,J),w(sl,J,null),m(J,F),m(q,S),m(q,Y),w(nl,Y,null),m(Y,M),T=!0,t&&E(W),W=[p(d,"click",l[11]),p(L,"click",function(){b(k(l[1].map(wl)))&&k(l[1].map(wl)).apply(this,arguments)}),p(J,"click",function(){b(y(null,l[1].map(El)))&&y(null,l[1].map(El)).apply(this,arguments)}),p(Y,"click",function(){b(A(null,l[1].map(bl)))&&A(null,l[1].map(bl)).apply(this,arguments)})]},p(a,n){let r=P;(P=ll(l=a))===r?Z[P].p(l,n):(C(),I(Z[r],1,1,()=>{Z[r]=null}),V(),(O=Z[P])||(O=Z[P]=X[P](l)).c(),D(O,1),O.m(d,null)),16&n&&v(s,"is-active",l[4])},i(l){T||(D(O),D(al.$$.fragment,l),D(sl.$$.fragment,l),D(nl.$$.fragment,l),T=!0)},o(l){I(O),I(al.$$.fragment,l),I(sl.$$.fragment,l),I(nl.$$.fragment,l),T=!1},d(l){l&&i(a),Z[P].d(),x(al),x(sl),x(nl),E(W)}}}function rl(l){let a,s,r;const t=new K({props:{icon:F,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=n("a"),$(t.$$.fragment),this.h()},l(l){a=c(l,"A",{href:!0,class:!0});var s=e(a);g(t.$$.fragment,s),s.forEach(i),this.h()},h(){h(a,"href",s=null),h(a,"class","button")},m(l,s){f(l,a,s),w(t,a,null),r=!0},p:G,i(l){r||(D(t.$$.fragment,l),r=!0)},o(l){I(t.$$.fragment,l),r=!1},d(l){l&&i(a),x(t)}}}function tl(l){let a,s,r;const t=new K({props:{icon:S,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){a=n("a"),$(t.$$.fragment),this.h()},l(l){a=c(l,"A",{href:!0,class:!0});var s=e(a);g(t.$$.fragment,s),s.forEach(i),this.h()},h(){h(a,"href",s=null),h(a,"class","button")},m(l,s){f(l,a,s),w(t,a,null),r=!0},p:G,i(l){r||(D(t.$$.fragment,l),r=!0)},o(l){I(t.$$.fragment,l),r=!1},d(l){l&&i(a),x(t)}}}function cl(l){let a,s,r,t={ctx:l,current:null,token:null,pending:il,then:ol,catch:el,error:18,blocks:[,,,]};return P(s=l[2],t),{c(){a=n("div"),t.block.c(),this.h()},l(l){a=c(l,"DIV",{class:!0});var s=e(a);t.block.l(s),s.forEach(i),this.h()},h(){h(a,"class","list is-hoverable")},m(l,s){f(l,a,s),t.block.m(a,t.anchor=null),t.mount=(()=>a),t.anchor=null,r=!0},p(a,n){if(l=a,t.ctx=l,4&n&&s!==(s=l[2])&&P(s,t));else{const a=l.slice();t.block.p(a,n)}},i(l){r||(D(t.block),r=!0)},o(l){for(let l=0;l<3;l+=1){const a=t.blocks[l];I(a)}r=!1},d(l){l&&i(a),t.block.d(),t.token=null,t=null}}}function el(l){let a,s,t=l[18].message+"";return{c(){a=n("p"),s=r(t),this.h()},l(l){a=c(l,"P",{class:!0,style:!0});var n=e(a);s=o(n,t),n.forEach(i),this.h()},h(){h(a,"class","list-item"),Y(a,"color","red")},m(l,n){f(l,a,n),m(a,s)},p(l,a){4&a&&t!==(t=l[18].message+"")&&d(s,t)},i:G,o:G,d(l){l&&i(a)}}}function ol(l){return{c:G,l:G,m:G,p:G,i:G,o:G,d:G}}function il(l){let a,s;const r=new K({props:{icon:M,class:"icon is-24",spin:!0}});return{c(){a=n("p"),$(r.$$.fragment),this.h()},l(l){a=c(l,"P",{class:!0});var s=e(a);g(r.$$.fragment,s),s.forEach(i),this.h()},h(){h(a,"class","list-item")},m(l,n){f(l,a,n),w(r,a,null),s=!0},p:G,i(l){s||(D(r.$$.fragment,l),s=!0)},o(l){I(r.$$.fragment,l),s=!1},d(l){l&&i(a),x(r)}}}function ul(l){let a,s,r,t,o=l[1],u=[];for(let a=0;a<o.length;a+=1)u[a]=$l(ll(l,o,a));const m=l=>I(u[l],1,1,()=>{u[l]=null});let d=null;return o.length||(d=hl()),{c(){a=n("div");for(let l=0;l<u.length;l+=1)u[l].c();d&&d.c(),this.h()},l(l){a=c(l,"DIV",{class:!0});var s=e(a);for(let l=0;l<u.length;l+=1)u[l].l(s);d&&d.l(s),s.forEach(i),this.h()},h(){h(a,"class","list is-hoverable")},m(n,c,e){f(n,a,c);for(let l=0;l<u.length;l+=1)u[l].m(a,null);d&&d.m(a,null),r=!0,e&&E(t),t=[O(s=Z.call(null,a)),p(a,"click_outside",l[14])]},p(l,s){if(110&s){let n;for(o=l[1],n=0;n<o.length;n+=1){const r=ll(l,o,n);u[n]?(u[n].p(r,s),D(u[n],1)):(u[n]=$l(r),u[n].c(),D(u[n],1),u[n].m(a,null))}for(C(),n=o.length;n<u.length;n+=1)m(n);V(),o.length?d&&(d.d(1),d=null):d||((d=hl()).c(),d.m(a,null))}},i(l){if(!r){for(let l=0;l<o.length;l+=1)D(u[l]);r=!0}},o(l){u=u.filter(Boolean);for(let l=0;l<u.length;l+=1)I(u[l]);r=!1},d(l){l&&i(a),L(u,l),d&&d.d(),E(t)}}}function hl(l){let a,s,t;return{c(){a=n("a"),s=r("no results\n      "),this.h()},l(l){a=c(l,"A",{href:!0,class:!0});var n=e(a);s=o(n,"no results\n      "),n.forEach(i),this.h()},h(){h(a,"href",t=null),h(a,"class","list-item")},m(l,n){f(l,a,n),m(a,s)},d(l){l&&i(a)}}}function fl(l){let a,s,r,t,o;const u=[pl,ml],m=[];function d(l,a){return l[3]==l[17]?0:1}function $(...a){return l[13](l[17],...a)}return s=d(l),r=m[s]=u[s](l),{c(){a=n("div"),r.c(),this.h()},l(l){a=c(l,"DIV",{class:!0});var s=e(a);r.l(s),s.forEach(i),this.h()},h(){h(a,"class","column is-narrow")},m(l,n,r){f(l,a,n),m[s].m(a,null),t=!0,r&&o(),o=p(a,"click",$)},p(n,t){let c=s;(s=d(l=n))===c?m[s].p(l,t):(C(),I(m[c],1,1,()=>{m[c]=null}),V(),(r=m[s])||(r=m[s]=u[s](l)).c(),D(r,1),r.m(a,null))},i(l){t||(D(r),t=!0)},o(l){I(r),t=!1},d(l){l&&i(a),m[s].d(),o()}}}function ml(l){let a;const s=new K({props:{icon:F,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){$(s.$$.fragment)},l(l){g(s.$$.fragment,l)},m(l,n){w(s,l,n),a=!0},p:G,i(l){a||(D(s.$$.fragment,l),a=!0)},o(l){I(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function pl(l){let a;const s=new K({props:{icon:S,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){$(s.$$.fragment)},l(l){g(s.$$.fragment,l)},m(l,n){w(s,l,n),a=!0},p:G,i(l){a||(D(s.$$.fragment,l),a=!0)},o(l){I(s.$$.fragment,l),a=!1},d(l){x(s,l)}}}function dl(l){let a,s,d,v,k,y,A,V,P,O,L,N,R,H,J,_,C;const F=new K({props:{icon:U,class:"icon is-small"}}),G=new K({props:{icon:Q,class:"icon is-small"}}),S=new K({props:{icon:z,class:"icon is-small"}});return{c(){a=n("div"),s=n("div"),d=n("a"),$(F.$$.fragment),v=r(" \n                    Play now"),y=t(),A=n("div"),V=n("a"),$(G.$$.fragment),P=r(" \n                    Play next"),L=t(),N=n("div"),R=n("a"),$(S.$$.fragment),H=r(" \n                    Add to queue"),this.h()},l(l){a=c(l,"DIV",{class:!0});var n=e(a);s=c(n,"DIV",{class:!0});var r=e(s);d=c(r,"A",{href:!0,class:!0});var t=e(d);g(F.$$.fragment,t),v=o(t," \n                    Play now"),t.forEach(i),r.forEach(i),y=u(n),A=c(n,"DIV",{class:!0});var h=e(A);V=c(h,"A",{href:!0,class:!0});var f=e(V);g(G.$$.fragment,f),P=o(f," \n                    Play next"),f.forEach(i),h.forEach(i),L=u(n),N=c(n,"DIV",{class:!0});var m=e(N);R=c(m,"A",{href:!0,class:!0});var p=e(R);g(S.$$.fragment,p),H=o(p," \n                    Add to queue"),p.forEach(i),m.forEach(i),n.forEach(i),this.h()},h(){h(d,"href",k=null),h(d,"class","dropdown-item"),h(s,"class","list-item"),h(V,"href",O=null),h(V,"class","dropdown-item"),h(A,"class","list-item"),h(R,"href",J=null),h(R,"class","dropdown-item"),h(N,"class","list-item"),h(a,"class","list is-hoverable")},m(n,r,t){f(n,a,r),m(a,s),m(s,d),w(F,d,null),m(d,v),m(a,y),m(a,A),m(A,V),w(G,V,null),m(V,P),m(a,L),m(a,N),m(N,R),w(S,R,null),m(R,H),_=!0,t&&E(C),C=[p(d,"click",function(){b(B(l[15].uri))&&B(l[15].uri).apply(this,arguments)}),p(V,"click",function(){b(j(l[15].uri))&&j(l[15].uri).apply(this,arguments)}),p(R,"click",function(){b(q(l[15].uri))&&q(l[15].uri).apply(this,arguments)})]},p(a,s){l=a},i(l){_||(D(F.$$.fragment,l),D(G.$$.fragment,l),D(S.$$.fragment,l),_=!0)},o(l){I(F.$$.fragment,l),I(G.$$.fragment,l),I(S.$$.fragment,l),_=!1},d(l){l&&i(a),x(F),x(G),x(S),E(C)}}}function $l(l){let a,s,$,g,v,w,E,b,k,y,A=l[15].name+"",x=["album","track","artist"].indexOf(l[15].type)>-1;function P(...a){return l[12](l[15],l[17],...a)}let O=x&&fl(l),B=l[3]==l[17]&&dl(l);return{c(){a=n("a"),s=n("div"),$=n("div"),g=r(A),v=t(),O&&O.c(),w=t(),B&&B.c(),E=t(),this.h()},l(l){a=c(l,"A",{href:!0,class:!0});var n=e(a);s=c(n,"DIV",{class:!0});var r=e(s);$=c(r,"DIV",{class:!0});var t=e($);g=o(t,A),t.forEach(i),v=u(r),O&&O.l(r),r.forEach(i),w=u(n),B&&B.l(n),E=u(n),n.forEach(i),this.h()},h(){h($,"class","column"),h(s,"class","columns is-mobile"),h(a,"href",b=null),h(a,"class","list-item")},m(l,n,r){f(l,a,n),m(a,s),m(s,$),m($,g),m(s,v),O&&O.m(s,null),m(a,w),B&&B.m(a,null),m(a,E),k=!0,r&&y(),y=p($,"click",P)},p(n,r){l=n,(!k||2&r)&&A!==(A=l[15].name+"")&&d(g,A),2&r&&(x=["album","track","artist"].indexOf(l[15].type)>-1),x?O?(O.p(l,r),D(O,1)):((O=fl(l)).c(),D(O,1),O.m(s,null)):O&&(C(),I(O,1,1,()=>{O=null}),V()),l[3]==l[17]?B?(B.p(l,r),D(B,1)):((B=dl(l)).c(),D(B,1),B.m(a,E)):B&&(C(),I(B,1,1,()=>{B=null}),V())},i(l){k||(D(O),D(B),k=!0)},o(l){I(O),I(B),k=!1},d(l){l&&i(a),O&&O.d(),B&&B.d(),y()}}}function gl(l){let a,s,d,$,g,v,w,E,b,k,y,A,x,P,O,B,j,q,H,J=l[1].some(vl),K=l[0],U=[];for(let a=0;a<K.length;a+=1)U[a]=sl(al(l,K,a));let _=J&&nl(l),z=l[2]&&cl(l),F=l[1].length>0&&ul(l);return{c(){a=t(),s=n("h1"),d=r("Browse"),$=t(),g=n("div"),v=n("div"),w=n("nav"),E=n("ul"),b=n("li"),k=n("a"),y=r("Root"),x=t();for(let l=0;l<U.length;l+=1)U[l].c();P=t(),_&&_.c(),O=t(),z&&z.c(),B=t(),F&&F.c(),j=N(),this.h()},l(l){R('[data-svelte="svelte-1n5cjn7"]',document.head).forEach(i),a=u(l),s=c(l,"H1",{class:!0});var n=e(s);d=o(n,"Browse"),n.forEach(i),$=u(l),g=c(l,"DIV",{class:!0});var r=e(g);v=c(r,"DIV",{class:!0});var t=e(v);w=c(t,"NAV",{class:!0,"aria-label":!0});var h=e(w);E=c(h,"UL",{class:!0});var f=e(E);b=c(f,"LI",{class:!0});var m=e(b);k=c(m,"A",{href:!0,class:!0});var p=e(k);y=o(p,"Root"),p.forEach(i),m.forEach(i),x=u(f);for(let l=0;l<U.length;l+=1)U[l].l(f);f.forEach(i),h.forEach(i),t.forEach(i),P=u(r),_&&_.l(r),r.forEach(i),O=u(l),z&&z.l(l),B=u(l),F&&F.l(l),j=N(),this.h()},h(){document.title="Browse",h(s,"class","title"),h(k,"href",A=null),h(k,"class","svelte-g89v9p"),h(b,"class","svelte-g89v9p"),h(E,"class","svelte-g89v9p"),h(w,"class","breadcrumb svelte-g89v9p"),h(w,"aria-label","breadcrumbs"),h(v,"class","column"),h(g,"class","columns is-mobile")},m(n,r,t){f(n,a,r),f(n,s,r),m(s,d),f(n,$,r),f(n,g,r),m(g,v),m(v,w),m(w,E),m(E,b),m(b,k),m(k,y),m(E,x);for(let l=0;l<U.length;l+=1)U[l].m(E,null);m(g,P),_&&_.m(g,null),f(n,O,r),z&&z.m(n,r),f(n,B,r),F&&F.m(n,r),f(n,j,r),q=!0,t&&H(),H=p(k,"click",l[9])},p(l,[a]){if(37&a){let s;for(K=l[0],s=0;s<K.length;s+=1){const n=al(l,K,s);U[s]?U[s].p(n,a):(U[s]=sl(n),U[s].c(),U[s].m(E,null))}for(;s<U.length;s+=1)U[s].d(1);U.length=K.length}2&a&&(J=l[1].some(vl)),J?_?(_.p(l,a),D(_,1)):((_=nl(l)).c(),D(_,1),_.m(g,null)):_&&(C(),I(_,1,1,()=>{_=null}),V()),l[2]?z?(z.p(l,a),D(z,1)):((z=cl(l)).c(),D(z,1),z.m(B.parentNode,B)):z&&(C(),I(z,1,1,()=>{z=null}),V()),l[1].length>0?F?(F.p(l,a),D(F,1)):((F=ul(l)).c(),D(F,1),F.m(j.parentNode,j)):F&&(C(),I(F,1,1,()=>{F=null}),V())},i(l){q||(D(_),D(z),D(F),q=!0)},o(l){I(_),I(z),I(F),q=!1},d(l){l&&i(a),l&&i(s),l&&i($),l&&i(g),L(U,l),_&&_.d(),l&&i(O),z&&z.d(l),l&&i(B),F&&F.d(l),l&&i(j),H()}}}const vl=l=>["track"].indexOf(l.type)>-1,wl=l=>l.uri,El=l=>l.uri,bl=l=>l.uri;function kl(l,a,s){let n;H(l,X,l=>s(8,n=l));let r,t,c=[],e=[],o=!1;J(async()=>{T(X,n=await W()),s(1,e=await n.library.browse({uri:null}))});const i=async(l,a,r)=>{if(["directory","artist","album"].indexOf(l.type)>-1)if(s(3,t=null),s(1,e=await n.library.browse({uri:l.uri})),"back"===r){const a=c.indexOf(l),n=c.slice(0,a+1);s(0,c=n)}else"avance"===r&&s(0,c=[...c,l]);else"track"===l.type&&u(a)},u=l=>{s(3,t=t==l?null:l)},h=async()=>{s(1,e=await n.library.browse({uri:null})),s(0,c=[])};return[c,e,r,t,o,i,u,h,n,()=>s(2,r=h()),(l,a)=>s(2,r=i(l,a,"back")),()=>s(4,o=!o),(l,a)=>s(2,r=i(l,a,"avance")),l=>u(l),()=>s(3,t=null)]}export default class extends l{constructor(l){super(),a(this,l,kl,gl,s,{})}}
