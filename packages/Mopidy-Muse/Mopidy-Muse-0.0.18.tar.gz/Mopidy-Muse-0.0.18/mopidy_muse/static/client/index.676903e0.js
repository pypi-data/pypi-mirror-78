import{S as a,a as l,s,P as t,a8 as c,F as n,j as e,O as r,z as o,A as i,g as u,e as f,b as h,t as m,u as d,c as p,d as g,f as $,l as v,v as k,h as b,w as E,k as w,x as y,n as x,r as I,o as D,U as P,C as V,B as N,J as T,a5 as A,K as C,Y as O,a9 as B,m as M,N as S,aa as U,ab as j,ac as L,H,_ as R,i as q,ad as F,ae as _,af as z,ag as J,ah as K,R as Y,ai as G,aj as Q,ak as W,al as X,$ as Z,a0 as aa}from"./client.c1a1a023.js";import{c as la}from"./clickOutside.69487d64.js";function sa(a){let l,s,t,c={ctx:a,current:null,token:null,pending:ra,then:ca,catch:ta,value:10,error:11,blocks:[,,,]};return r(s=a[2],c),{c(){l=n(),c.block.c()},l(a){l=n(),c.block.l(a)},m(a,s){e(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,4&t&&s!==(s=a[2])&&r(s,c));else{const l=a.slice();l[10]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function ta(a){let l,s=a[11].message+"";return{c(){l=m(s)},l(a){l=v(a,s)},m(a,s){e(a,l,s)},p(a,t){4&t&&s!==(s=a[11].message+"")&&M(l,s)},i:S,o:S,d(a){a&&u(l)}}}function ca(a){let l,s,t,c;const r=[ea,na],f=[];function h(a,l){return a[10]?0:1}return l=h(a),s=f[l]=r[l](a),{c(){s.c(),t=n()},l(a){s.l(a),t=n()},m(a,s){f[l].m(a,s),e(a,t,s),c=!0},p(a,c){let n=l;(l=h(a))===n?f[l].p(a,c):(P(),i(f[n],1,1,()=>{f[n]=null}),V(),(s=f[l])||(s=f[l]=r[l](a)).c(),o(s,1),s.m(t.parentNode,t))},i(a){c||(o(s),c=!0)},o(a){i(s),c=!1},d(a){f[l].d(a),a&&u(t)}}}function na(a){let l;return{c(){l=m("Error")},l(a){l=v(a,"Error")},m(a,s){e(a,l,s)},p:S,i:S,o:S,d(a){a&&u(l)}}}function ea(a){let l,s;const c=new t({props:{icon:j,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=g(l);k(c.$$.fragment,s),s.forEach(u),this.h()},h(){b(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),y(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function ra(a){let l,s;const c=new t({props:{icon:U,spin:!0,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=g(l);k(c.$$.fragment,s),s.forEach(u),this.h()},h(){b(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),y(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function oa(a){let l,s,n,r,T,A,C,O,B,M,S,U,j,L,H,R,q,F,_,z,J,K,Y,G,Q;const W=new t({props:{icon:c,class:"icon"}});let X=a[2]&&sa(a);return{c(){l=f("div"),s=f("div"),n=h(),r=f("div"),T=f("header"),A=f("p"),C=m("Create playlist"),O=h(),B=f("a"),d(W.$$.fragment),S=h(),U=f("section"),j=f("label"),L=m("Name"),H=h(),R=f("input"),q=h(),F=f("footer"),_=f("button"),z=m("Save changes"),J=h(),X&&X.c(),K=h(),Y=f("button"),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0}),g(s).forEach(u),n=$(t),r=p(t,"DIV",{class:!0});var c=g(r);T=p(c,"HEADER",{class:!0});var e=g(T);A=p(e,"P",{class:!0});var o=g(A);C=v(o,"Create playlist"),o.forEach(u),O=$(e),B=p(e,"A",{href:!0,"aria-label":!0});var i=g(B);k(W.$$.fragment,i),i.forEach(u),e.forEach(u),S=$(c),U=p(c,"SECTION",{class:!0});var f=g(U);j=p(f,"LABEL",{class:!0});var h=g(j);L=v(h,"Name"),h.forEach(u),H=$(f),R=p(f,"INPUT",{class:!0,type:!0,name:!0,id:!0}),f.forEach(u),q=$(c),F=p(c,"FOOTER",{class:!0});var m=g(F);_=p(m,"BUTTON",{class:!0});var d=g(_);z=v(d,"Save changes"),d.forEach(u),J=$(m),X&&X.l(m),m.forEach(u),c.forEach(u),K=$(t),Y=p(t,"BUTTON",{class:!0,"aria-label":!0}),g(Y).forEach(u),t.forEach(u),this.h()},h(){b(s,"class","modal-background svelte-vctgx4"),b(A,"class","modal-card-title svelte-vctgx4"),b(B,"href",M=null),b(B,"aria-label","close"),b(T,"class","modal-card-head svelte-vctgx4"),b(j,"class","label"),b(R,"class","input svelte-vctgx4"),b(R,"type","text"),b(R,"name","playlist name"),b(R,"id","playlist name"),b(U,"class","modal-card-body svelte-vctgx4"),b(_,"class","button is-success svelte-vctgx4"),b(F,"class","modal-card-foot svelte-vctgx4"),b(r,"class","modal-card svelte-vctgx4"),b(Y,"class","modal-close is-large svelte-vctgx4"),b(Y,"aria-label","close"),b(l,"class","modal svelte-vctgx4"),E(l,"is-active",a[0])},m(t,c,o){e(t,l,c),w(l,s),w(l,n),w(l,r),w(r,T),w(T,A),w(A,C),w(T,O),w(T,B),y(W,B,null),w(r,S),w(r,U),w(U,j),w(j,L),w(U,H),w(U,R),x(R,a[1]),w(r,q),w(r,F),w(F,_),w(_,z),w(F,J),X&&X.m(F,null),w(l,K),w(l,Y),G=!0,o&&I(Q),Q=[D(s,"click",a[6]),D(B,"click",a[7]),D(R,"input",a[8]),D(_,"click",a[3]),D(Y,"click",a[9])]},p(a,[s]){2&s&&R.value!==a[1]&&x(R,a[1]),a[2]?X?(X.p(a,s),o(X,1)):((X=sa(a)).c(),o(X,1),X.m(F,null)):X&&(P(),i(X,1,1,()=>{X=null}),V()),1&s&&E(l,"is-active",a[0])},i(a){G||(o(W.$$.fragment,a),o(X),G=!0)},o(a){i(W.$$.fragment,a),i(X),G=!1},d(a){a&&u(l),N(W),X&&X.d(),I(Q)}}}function ia(a,l,s){let t;T(a,A,a=>s(4,t=a));let c,n="",{showCreatePlaylistModal:e}=l;C(async()=>{O(A,t=await B())});const r=async()=>{return!!await t.playlists.create({name:n})&&(setTimeout(()=>{s(0,e=!e)},1500),!0)};return a.$set=(a=>{"showCreatePlaylistModal"in a&&s(0,e=a.showCreatePlaylistModal)}),[e,n,c,()=>{s(2,c=r())},t,r,()=>s(0,e=!e),()=>s(0,e=!e),function(){n=this.value,s(1,n)},()=>s(0,e=!e)]}class ua extends a{constructor(a){super(),l(this,a,ia,oa,s,{showCreatePlaylistModal:0})}}function fa(a,l,s){const t=a.slice();return t[11]=l[s],t[13]=s,t}function ha(a){let l,s,t,c={ctx:a,current:null,token:null,pending:wa,then:da,catch:ma,value:9,error:10,blocks:[,,,]};return r(s=a[0],c),{c(){l=n(),c.block.c()},l(a){l=n(),c.block.l(a)},m(a,s){e(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,1&t&&s!==(s=a[0])&&r(s,c));else{const l=a.slice();l[9]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function ma(a){let l,s,t=a[10].message+"";return{c(){l=f("p"),s=m(t),this.h()},l(a){l=p(a,"P",{class:!0,style:!0});var c=g(l);s=v(c,t),c.forEach(u),this.h()},h(){b(l,"class","list-item"),R(l,"color","red")},m(a,t){e(a,l,t),w(l,s)},p(a,l){1&l&&t!==(t=a[10].message+"")&&M(s,t)},i:S,o:S,d(a){a&&u(l)}}}function da(a){let l,s,t=a[3],c=[];for(let l=0;l<t.length;l+=1)c[l]=Ea(fa(a,t,l));const r=a=>i(c[a],1,1,()=>{c[a]=null});let f=null;return t.length||(f=pa()),{c(){for(let a=0;a<c.length;a+=1)c[a].c();l=n(),f&&f.c()},l(a){for(let l=0;l<c.length;l+=1)c[l].l(a);l=n(),f&&f.l(a)},m(a,t){for(let l=0;l<c.length;l+=1)c[l].m(a,t);e(a,l,t),f&&f.m(a,t),s=!0},p(a,s){if(26&s){let n;for(t=a[3],n=0;n<t.length;n+=1){const e=fa(a,t,n);c[n]?(c[n].p(e,s),o(c[n],1)):(c[n]=Ea(e),c[n].c(),o(c[n],1),c[n].m(l.parentNode,l))}for(P(),n=t.length;n<c.length;n+=1)r(n);V(),t.length?f&&(f.d(1),f=null):f||((f=pa()).c(),f.m(l.parentNode,l))}},i(a){if(!s){for(let a=0;a<t.length;a+=1)o(c[a]);s=!0}},o(a){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)i(c[a]);s=!1},d(a){K(c,a),a&&u(l),f&&f.d(a)}}}function pa(a){let l,s,t,c;return{c(){l=f("div"),s=f("p"),t=m("loading"),c=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var n=g(l);s=p(n,"P",{});var e=g(s);t=v(e,"loading"),e.forEach(u),c=$(n),n.forEach(u),this.h()},h(){b(l,"class","list-item")},m(a,n){e(a,l,n),w(l,s),w(s,t),w(l,c)},d(a){a&&u(l)}}}function ga(a){let l,s=a[10].message+"";return{c(){l=m(s)},l(a){l=v(a,s)},m(a,s){e(a,l,s)},p(a,t){8&t&&s!==(s=a[10].message+"")&&M(l,s)},d(a){a&&u(l)}}}function $a(a){let l,s,t,c=(a[14].tracks?a[14].tracks.length:"0")+"";return{c(){l=m("("),s=m(c),t=m(")")},l(a){l=v(a,"("),s=v(a,c),t=v(a,")")},m(a,c){e(a,l,c),e(a,s,c),e(a,t,c)},p(a,l){8&l&&c!==(c=(a[14].tracks?a[14].tracks.length:"0")+"")&&M(s,c)},d(a){a&&u(l),a&&u(s),a&&u(t)}}}function va(a){let l;return{c(){l=m("loading..")},l(a){l=v(a,"loading..")},m(a,s){e(a,l,s)},p:S,d(a){a&&u(l)}}}function ka(a){let l;const s=new t({props:{icon:Z,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){d(s.$$.fragment)},l(a){k(s.$$.fragment,a)},m(a,t){y(s,a,t),l=!0},p:S,i(a){l||(o(s.$$.fragment,a),l=!0)},o(a){i(s.$$.fragment,a),l=!1},d(a){N(s,a)}}}function ba(a){let l;const s=new t({props:{icon:aa,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){d(s.$$.fragment)},l(a){k(s.$$.fragment,a)},m(a,t){y(s,a,t),l=!0},p:S,i(a){l||(o(s.$$.fragment,a),l=!0)},o(a){i(s.$$.fragment,a),l=!1},d(a){N(s,a)}}}function Ea(a){let l,s,c,n,x,T,A,C,O,B,S,U,j,L,H,R,K,W,X,Z,aa,la,sa,ta,ca,na,ea,ra,oa,ia,ua,fa=a[11].name+"",ha={ctx:a,current:null,token:null,pending:va,then:$a,catch:ga,value:14,error:10};r(C=J(a[11].uri),ha);const ma=[ba,ka],da=[];function pa(a,l){return a[1]==a[13]?0:1}function Ea(...l){return a[7](a[13],...l)}j=pa(a),L=da[j]=ma[j](a);const wa=new t({props:{icon:Y,class:"icon is-small"}}),ya=new t({props:{icon:G,class:"icon is-small"}}),xa=new t({props:{icon:Q,class:"icon is-small"}});return{c(){l=f("div"),s=f("div"),c=f("a"),n=m(fa),T=h(),A=f("div"),ha.block.c(),O=h(),B=f("div"),S=f("div"),U=f("div"),L.c(),H=h(),R=f("div"),K=f("div"),W=f("a"),d(wa.$$.fragment),X=m(" \n                        Play"),aa=h(),la=f("a"),d(ya.$$.fragment),sa=m(" \n                        Shuffle"),ca=h(),na=f("a"),d(xa.$$.fragment),ea=m(" \n                        Add to queue"),oa=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0});var e=g(s);c=p(e,"A",{class:!0,href:!0});var r=g(c);n=v(r,fa),r.forEach(u),T=$(e),A=p(e,"DIV",{class:!0});var o=g(A);ha.block.l(o),o.forEach(u),O=$(e),B=p(e,"DIV",{class:!0});var i=g(B);S=p(i,"DIV",{class:!0});var f=g(S);U=p(f,"DIV",{class:!0});var h=g(U);L.l(h),h.forEach(u),H=$(f),R=p(f,"DIV",{class:!0,id:!0,role:!0});var m=g(R);K=p(m,"DIV",{class:!0});var d=g(K);W=p(d,"A",{href:!0,class:!0});var b=g(W);k(wa.$$.fragment,b),X=v(b," \n                        Play"),b.forEach(u),aa=$(d),la=p(d,"A",{href:!0,class:!0});var E=g(la);k(ya.$$.fragment,E),sa=v(E," \n                        Shuffle"),E.forEach(u),ca=$(d),na=p(d,"A",{href:!0,class:!0});var w=g(na);k(xa.$$.fragment,w),ea=v(w," \n                        Add to queue"),w.forEach(u),d.forEach(u),m.forEach(u),f.forEach(u),i.forEach(u),e.forEach(u),oa=$(t),t.forEach(u),this.h()},h(){b(c,"class","column"),b(c,"href",x="playlists/"+a[11].slug),b(A,"class","column is-narrow"),b(U,"class","dropdown-trigger"),b(W,"href",Z=null),b(W,"class","dropdown-item"),b(la,"href",ta=null),b(la,"class","dropdown-item"),b(na,"href",ra=null),b(na,"class","dropdown-item"),b(K,"class","dropdown-content"),b(R,"class","dropdown-menu"),b(R,"id","dropdown-menu"),b(R,"role","menu"),b(S,"class","dropdown is-right is-up"),E(S,"is-active",a[1]==a[13]),b(B,"class","column is-narrow"),b(s,"class","columns is-mobile"),b(l,"class","list-item")},m(t,r,o){e(t,l,r),w(l,s),w(s,c),w(c,n),w(s,T),w(s,A),ha.block.m(A,ha.anchor=null),ha.mount=(()=>A),ha.anchor=null,w(s,O),w(s,B),w(B,S),w(S,U),da[j].m(U,null),w(S,H),w(S,R),w(R,K),w(K,W),y(wa,W,null),w(W,X),w(K,aa),w(K,la),y(ya,la,null),w(la,sa),w(K,ca),w(K,na),y(xa,na,null),w(na,ea),w(l,oa),ia=!0,o&&I(ua),ua=[D(U,"click",Ea),D(W,"click",function(){q(F(a[11].uri))&&F(a[11].uri).apply(this,arguments)}),D(la,"click",function(){q(_(a[11].uri))&&_(a[11].uri).apply(this,arguments)}),D(na,"click",function(){q(z(a[11].uri))&&z(a[11].uri).apply(this,arguments)})]},p(l,s){if(a=l,(!ia||8&s)&&fa!==(fa=a[11].name+"")&&M(n,fa),(!ia||8&s&&x!==(x="playlists/"+a[11].slug))&&b(c,"href",x),ha.ctx=a,8&s&&C!==(C=J(a[11].uri))&&r(C,ha));else{const l=a.slice();l[14]=ha.resolved,ha.block.p(l,s)}let t=j;(j=pa(a))===t?da[j].p(a,s):(P(),i(da[t],1,1,()=>{da[t]=null}),V(),(L=da[j])||(L=da[j]=ma[j](a)).c(),o(L,1),L.m(U,null)),2&s&&E(S,"is-active",a[1]==a[13])},i(a){ia||(o(L),o(wa.$$.fragment,a),o(ya.$$.fragment,a),o(xa.$$.fragment,a),ia=!0)},o(a){i(L),i(wa.$$.fragment,a),i(ya.$$.fragment,a),i(xa.$$.fragment,a),ia=!1},d(a){a&&u(l),ha.block.d(),ha.token=null,ha=null,da[j].d(),N(wa),N(ya),N(xa),I(ua)}}}function wa(a){let l,s,c;const n=new t({props:{icon:U,class:"icon is-24",spin:!0}});return{c(){l=f("p"),d(n.$$.fragment),s=m("\n        Loading playlists .."),this.h()},l(a){l=p(a,"P",{class:!0});var t=g(l);k(n.$$.fragment,t),s=v(t,"\n        Loading playlists .."),t.forEach(u),this.h()},h(){b(l,"class","list-item")},m(a,t){e(a,l,t),y(n,l,null),w(l,s),c=!0},p:S,i(a){c||(o(n.$$.fragment,a),c=!0)},o(a){i(n.$$.fragment,a),c=!1},d(a){a&&u(l),N(n)}}}function ya(a){let l,s,c,n,r,E,x,T,A,C,O,B,M,S;const U=new t({props:{icon:L,class:"icon"}}),j=new ua({props:{showCreatePlaylistModal:a[2]}});let R=a[0]&&ha(a);return{c(){l=f("div"),s=f("div"),c=f("h1"),n=m("Playlists"),r=h(),E=f("div"),x=f("a"),d(U.$$.fragment),A=h(),d(j.$$.fragment),C=h(),O=f("div"),R&&R.c(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=g(l);s=p(t,"DIV",{class:!0});var e=g(s);c=p(e,"H1",{class:!0});var o=g(c);n=v(o,"Playlists"),o.forEach(u),e.forEach(u),r=$(t),E=p(t,"DIV",{class:!0});var i=g(E);x=p(i,"A",{class:!0,href:!0});var f=g(x);k(U.$$.fragment,f),f.forEach(u),i.forEach(u),t.forEach(u),A=$(a),k(j.$$.fragment,a),C=$(a),O=p(a,"DIV",{class:!0});var h=g(O);R&&R.l(h),h.forEach(u),this.h()},h(){b(c,"class","title"),b(s,"class","column"),b(x,"class","button"),b(x,"href",T=null),b(E,"class","column is-narrow"),b(l,"class","columns is-mobile"),b(O,"class","list is-hoverable")},m(t,o,i){e(t,l,o),w(l,s),w(s,c),w(c,n),w(l,r),w(l,E),w(E,x),y(U,x,null),e(t,A,o),y(j,t,o),e(t,C,o),e(t,O,o),R&&R.m(O,null),M=!0,i&&I(S),S=[D(x,"click",a[6]),H(B=la.call(null,O)),D(O,"click_outside",a[8])]},p(a,[l]){const s={};4&l&&(s.showCreatePlaylistModal=a[2]),j.$set(s),a[0]?R?(R.p(a,l),o(R,1)):((R=ha(a)).c(),o(R,1),R.m(O,null)):R&&(P(),i(R,1,1,()=>{R=null}),V())},i(a){M||(o(U.$$.fragment,a),o(j.$$.fragment,a),o(R),M=!0)},o(a){i(U.$$.fragment,a),i(j.$$.fragment,a),i(R),M=!1},d(a){a&&u(l),N(U),a&&u(A),N(j,a),a&&u(C),a&&u(O),R&&R.d(),I(S)}}}function xa(a,l,s){let t,c,n;T(a,X,a=>s(3,t=a));let e=!1;C(async()=>{s(0,c=r())});const r=async()=>{O(X,t=await W())},o=a=>{s(1,n=n==a?null:a)};return[c,n,e,t,o,r,()=>s(2,e=!e),a=>o(a),()=>s(1,n=null)]}export default class extends a{constructor(a){super(),l(this,a,xa,ya,s,{})}}
