import{S as a,a as l,s,P as n,a8 as t,e as r,t as c,c as e,d as o,l as i,g as u,h as f,j as h,k as d,m,b as p,f as g,ag as $,O as v,z as w,A as E,F as k,u as b,v as y,w as A,x as I,r as D,o as V,U as T,C as x,B as P,ah as N,J as S,a5 as _,al as O,K as B,Y as M,a9 as U,ak as j,N as q,aa as L,ac as R,i as C,ab as H,aM as F,G as K,n as z,R as G,ai as J,ao as Y,$ as Q,a0 as W,ar as X,as as Z,aL as aa,aK as la,aN as sa,y as na,D as ta,E as ra,H as ca,I as ea,V as oa,au as ia,_ as ua}from"./client.c1a1a023.js";import{f as fa}from"./index.d5e0b0bf.js";import{c as ha}from"./clickOutside.69487d64.js";function da(a,l,s){const n=a.slice();return n[11]=l[s],n[13]=s,n}function ma(a){let l,s,n,t,p=a[1].name+"";return{c(){l=r("label"),s=c("Add "),n=c(p),t=c(" to a playlist"),this.h()},l(a){l=e(a,"LABEL",{class:!0});var r=o(l);s=i(r,"Add "),n=i(r,p),t=i(r," to a playlist"),r.forEach(u),this.h()},h(){f(l,"class","label")},m(a,r){h(a,l,r),d(l,s),d(l,n),d(l,t)},p(a,l){2&l&&p!==(p=a[1].name+"")&&m(n,p)},d(a){a&&u(l)}}}function pa(a){let l,s=a[15].message+"";return{c(){l=c(s)},l(a){l=i(a,s)},m(a,s){h(a,l,s)},p(a,n){8&n&&s!==(s=a[15].message+"")&&m(l,s)},i:q,o:q,d(a){a&&u(l)}}}function ga(a){let l,s,t,$,v,k,A,D,T,x,N=(a[14].tracks?a[14].tracks.length:"0")+"";const S=new n({props:{icon:R,class:"icon"}});return{c(){l=r("div"),s=c("("),t=c(N),$=c(")"),v=p(),k=r("div"),A=r("a"),b(S.$$.fragment),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=i(n,"("),t=i(n,N),$=i(n,")"),n.forEach(u),v=g(a),k=e(a,"DIV",{class:!0});var r=o(k);A=e(r,"A",{href:!0});var c=o(A);y(S.$$.fragment,c),c.forEach(u),r.forEach(u),this.h()},h(){f(l,"class","column is-narrow"),f(A,"href",D=null),f(k,"class","column is-narrow")},m(n,r,c){h(n,l,r),d(l,s),d(l,t),d(l,$),h(n,v,r),h(n,k,r),d(k,A),I(S,A,null),T=!0,c&&x(),x=V(A,"click",function(){C(a[4](a[14]))&&a[4](a[14]).apply(this,arguments)})},p(l,s){a=l,(!T||8&s)&&N!==(N=(a[14].tracks?a[14].tracks.length:"0")+"")&&m(t,N)},i(a){T||(w(S.$$.fragment,a),T=!0)},o(a){E(S.$$.fragment,a),T=!1},d(a){a&&u(l),a&&u(v),a&&u(k),P(S),x()}}}function $a(a){let l;return{c(){l=c("loading..")},l(a){l=i(a,"loading..")},m(a,s){h(a,l,s)},p:q,i:q,o:q,d(a){a&&u(l)}}}function va(a){let l,s,n,t,k,b,y,A,I=a[11].name+"",D={ctx:a,current:null,token:null,pending:$a,then:ga,catch:pa,value:14,error:15,blocks:[,,,]};return v(b=$(a[11].uri),D),{c(){l=r("div"),s=r("div"),n=r("div"),t=c(I),k=p(),D.block.c(),y=p(),this.h()},l(a){l=e(a,"DIV",{class:!0});var r=o(l);s=e(r,"DIV",{class:!0});var c=o(s);n=e(c,"DIV",{class:!0});var f=o(n);t=i(f,I),f.forEach(u),k=g(c),D.block.l(c),c.forEach(u),y=g(r),r.forEach(u),this.h()},h(){f(n,"class","column"),f(s,"class","columns is-mobile"),f(l,"class","list-item")},m(a,r){h(a,l,r),d(l,s),d(s,n),d(n,t),d(s,k),D.block.m(s,D.anchor=null),D.mount=(()=>s),D.anchor=null,d(l,y),A=!0},p(l,s){if(a=l,(!A||8&s)&&I!==(I=a[11].name+"")&&m(t,I),D.ctx=a,8&s&&b!==(b=$(a[11].uri))&&v(b,D));else{const l=a.slice();l[14]=D.resolved,D.block.p(l,s)}},i(a){A||(w(D.block),A=!0)},o(a){for(let a=0;a<3;a+=1){const l=D.blocks[a];E(l)}A=!1},d(a){a&&u(l),D.block.d(),D.token=null,D=null}}}function wa(a){let l,s,n,t={ctx:a,current:null,token:null,pending:Aa,then:ka,catch:Ea,value:10,blocks:[,,,]};return v(s=a[2],t),{c(){l=k(),t.block.c()},l(a){l=k(),t.block.l(a)},m(a,s){h(a,l,s),t.block.m(a,t.anchor=s),t.mount=(()=>l.parentNode),t.anchor=l,n=!0},p(l,n){if(a=l,t.ctx=a,4&n&&s!==(s=a[2])&&v(s,t));else{const l=a.slice();l[10]=t.resolved,t.block.p(l,n)}},i(a){n||(w(t.block),n=!0)},o(a){for(let a=0;a<3;a+=1){const l=t.blocks[a];E(l)}n=!1},d(a){a&&u(l),t.block.d(a),t.token=null,t=null}}}function Ea(a){return{c:q,l:q,m:q,p:q,i:q,o:q,d:q}}function ka(a){let l,s,n,t;const r=[ya,ba],c=[];function e(a,l){return a[10]?0:1}return l=e(a),s=c[l]=r[l](a),{c(){s.c(),n=k()},l(a){s.l(a),n=k()},m(a,s){c[l].m(a,s),h(a,n,s),t=!0},p(a,t){let o=l;(l=e(a))===o?c[l].p(a,t):(T(),E(c[o],1,1,()=>{c[o]=null}),x(),(s=c[l])||(s=c[l]=r[l](a)).c(),w(s,1),s.m(n.parentNode,n))},i(a){t||(w(s),t=!0)},o(a){E(s),t=!1},d(a){c[l].d(a),a&&u(n)}}}function ba(a){let l;return{c(){l=c("Error")},l(a){l=i(a,"Error")},m(a,s){h(a,l,s)},p:q,i:q,o:q,d(a){a&&u(l)}}}function ya(a){let l,s,t;const c=new n({props:{icon:H,class:"icon"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null)},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Aa(a){let l,s,t,m,$,v;const k=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){l=r("a"),b(k.$$.fragment),t=p(),m=r("button"),$=c("Save changes"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(k.$$.fragment,s),s.forEach(u),t=g(a),m=e(a,"BUTTON",{class:!0});var n=o(m);$=i(n,"Save changes"),n.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null),f(m,"class","button is-success svelte-5ggs80")},m(a,s){h(a,l,s),I(k,l,null),h(a,t,s),h(a,m,s),d(m,$),v=!0},p:q,i(a){v||(w(k.$$.fragment,a),v=!0)},o(a){E(k.$$.fragment,a),v=!1},d(a){a&&u(l),P(k),a&&u(t),a&&u(m)}}}function Ia(a){let l,s,m,$,v,k,S,_,O,B,M,U,j,q,L,R,C,H,F,K,z;const G=new n({props:{icon:t,class:"icon"}});let J=a[1]&&ma(a),Y=a[3],Q=[];for(let l=0;l<Y.length;l+=1)Q[l]=va(da(a,Y,l));const W=a=>E(Q[a],1,1,()=>{Q[a]=null});let X=a[2]&&wa(a);return{c(){l=r("div"),s=r("div"),m=p(),$=r("div"),v=r("header"),k=r("p"),S=c("Add to playlist"),_=p(),O=r("a"),b(G.$$.fragment),M=p(),U=r("section"),J&&J.c(),j=p(),q=r("div");for(let a=0;a<Q.length;a+=1)Q[a].c();L=c("\n       "),R=p(),C=r("footer"),X&&X.c(),H=p(),F=r("button"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0}),o(s).forEach(u),m=g(n),$=e(n,"DIV",{class:!0});var t=o($);v=e(t,"HEADER",{class:!0});var r=o(v);k=e(r,"P",{class:!0});var c=o(k);S=i(c,"Add to playlist"),c.forEach(u),_=g(r),O=e(r,"A",{href:!0,"aria-label":!0});var f=o(O);y(G.$$.fragment,f),f.forEach(u),r.forEach(u),M=g(t),U=e(t,"SECTION",{class:!0});var h=o(U);J&&J.l(h),j=g(h),q=e(h,"DIV",{class:!0});var d=o(q);for(let a=0;a<Q.length;a+=1)Q[a].l(d);d.forEach(u),L=i(h,"\n       "),h.forEach(u),R=g(t),C=e(t,"FOOTER",{class:!0});var p=o(C);X&&X.l(p),p.forEach(u),t.forEach(u),H=g(n),F=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(F).forEach(u),n.forEach(u),this.h()},h(){f(s,"class","modal-background svelte-5ggs80"),f(k,"class","modal-card-title svelte-5ggs80"),f(O,"href",B=null),f(O,"aria-label","close"),f(v,"class","modal-card-head svelte-5ggs80"),f(q,"class","list is-hoverable"),f(U,"class","modal-card-body svelte-5ggs80"),f(C,"class","modal-card-foot svelte-5ggs80"),f($,"class","modal-card svelte-5ggs80"),f(F,"class","modal-close is-large svelte-5ggs80"),f(F,"aria-label","close"),f(l,"class","modal svelte-5ggs80"),A(l,"is-active",a[0])},m(n,t,r){h(n,l,t),d(l,s),d(l,m),d(l,$),d($,v),d(v,k),d(k,S),d(v,_),d(v,O),I(G,O,null),d($,M),d($,U),J&&J.m(U,null),d(U,j),d(U,q);for(let a=0;a<Q.length;a+=1)Q[a].m(q,null);d(U,L),d($,R),d($,C),X&&X.m(C,null),d(l,H),d(l,F),K=!0,r&&D(z),z=[V(s,"click",a[7]),V(O,"click",a[8]),V(F,"click",a[9])]},p(a,[s]){if(a[1]?J?J.p(a,s):((J=ma(a)).c(),J.m(U,j)):J&&(J.d(1),J=null),24&s){let l;for(Y=a[3],l=0;l<Y.length;l+=1){const n=da(a,Y,l);Q[l]?(Q[l].p(n,s),w(Q[l],1)):(Q[l]=va(n),Q[l].c(),w(Q[l],1),Q[l].m(q,null))}for(T(),l=Y.length;l<Q.length;l+=1)W(l);x()}a[2]?X?(X.p(a,s),w(X,1)):((X=wa(a)).c(),w(X,1),X.m(C,null)):X&&(T(),E(X,1,1,()=>{X=null}),x()),1&s&&A(l,"is-active",a[0])},i(a){if(!K){w(G.$$.fragment,a);for(let a=0;a<Y.length;a+=1)w(Q[a]);w(X),K=!0}},o(a){E(G.$$.fragment,a),Q=Q.filter(Boolean);for(let a=0;a<Q.length;a+=1)E(Q[a]);E(X),K=!1},d(a){a&&u(l),P(G),J&&J.d(),N(Q,a),X&&X.d(),D(z)}}}function Da(a,l,s){let n,t;S(a,_,a=>s(5,n=a)),S(a,O,a=>s(3,t=a));let r,{showAddToPlaylistModal:c}=l,{track:e}=l;B(async()=>{M(_,n=await U()),M(O,t=await j())});const o=async a=>{return a.tracks?a.tracks.push(e):a.tracks=[e],!!await n.playlists.save({playlist:a})&&(M(O,t=await j()),!0)};return a.$set=(a=>{"showAddToPlaylistModal"in a&&s(0,c=a.showAddToPlaylistModal),"track"in a&&s(1,e=a.track)}),[c,e,r,t,a=>{s(2,r=o(a))},n,o,()=>s(0,c=!c),()=>s(0,c=!c),()=>s(0,c=!c)]}class Va extends a{constructor(a){super(),l(this,a,Da,Ia,s,{showAddToPlaylistModal:0,track:1})}}function Ta(a,l,s){const n=a.slice();return n[32]=l[s],n[34]=s,n}function xa(a,l,s){const n=a.slice();return n[37]=l[s],n}function Pa(a){let l;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Na(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Sa(a){let l,s,n;return{c(){l=r("a"),s=c("loading\n              "),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var n=o(l);s=i(n,"loading\n              "),n.forEach(u),this.h()},h(){f(l,"href",n=null),f(l,"class","dropdown-item")},m(a,n){h(a,l,n),d(l,s)},d(a){a&&u(l)}}}function _a(a){let l,s,n,t,$,v,w,E,k,b=a[37]+"";return{c(){l=r("a"),s=r("label"),n=r("input"),$=p(),v=c(b),w=p(),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var t=o(l);s=e(t,"LABEL",{class:!0});var r=o(s);n=e(r,"INPUT",{value:!0,type:!0,class:!0}),$=g(r),v=i(r,b),r.forEach(u),w=g(t),t.forEach(u),this.h()},h(){n.__value=t=a[37],n.value=n.__value,f(n,"type","checkbox"),f(n,"class","svelte-ywa9aa"),a[26][0].push(n),f(s,"class","checkbox svelte-ywa9aa"),f(l,"href",E=null),f(l,"class","dropdown-item")},m(t,r,c){h(t,l,r),d(l,s),d(s,n),n.checked=~a[1].indexOf(n.__value),d(s,$),d(s,v),d(l,w),c&&k(),k=V(n,"change",a[25])},p(a,l){4&l[0]&&t!==(t=a[37])&&(n.__value=t),n.value=n.__value,2&l[0]&&(n.checked=~a[1].indexOf(n.__value)),4&l[0]&&b!==(b=a[37]+"")&&m(v,b)},d(s){s&&u(l),a[26][0].splice(a[26][0].indexOf(n),1),k()}}}function Oa(a){let l,s,t,m,$,v,k,N,S,_,O,B,M,U,j,q,L,R,H,F,K;const z=[Ma,Ba],Q=[];function W(a,l){return a[5]?0:1}m=W(a),$=Q[m]=z[m](a);const X=new n({props:{icon:G,class:"icon is-small"}}),Z=new n({props:{icon:J,class:"icon is-small"}}),aa=new n({props:{icon:Y,class:"icon is-small"}});return{c(){l=r("div"),s=r("div"),t=r("div"),$.c(),v=p(),k=r("div"),N=r("div"),S=r("a"),b(X.$$.fragment),_=c(" \n                  Play All"),B=p(),M=r("a"),b(Z.$$.fragment),U=c(" \n                  Shuffle & Play All"),q=p(),L=r("a"),b(aa.$$.fragment),R=c(" \n                  Add to queue"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0});var r=o(s);t=e(r,"DIV",{class:!0});var c=o(t);$.l(c),c.forEach(u),v=g(r),k=e(r,"DIV",{class:!0,id:!0,role:!0});var f=o(k);N=e(f,"DIV",{class:!0});var h=o(N);S=e(h,"A",{href:!0,class:!0});var d=o(S);y(X.$$.fragment,d),_=i(d," \n                  Play All"),d.forEach(u),B=g(h),M=e(h,"A",{href:!0,class:!0});var m=o(M);y(Z.$$.fragment,m),U=i(m," \n                  Shuffle & Play All"),m.forEach(u),q=g(h),L=e(h,"A",{href:!0,class:!0});var p=o(L);y(aa.$$.fragment,p),R=i(p," \n                  Add to queue"),p.forEach(u),h.forEach(u),f.forEach(u),r.forEach(u),n.forEach(u),this.h()},h(){f(t,"class","dropdown-trigger"),f(S,"href",O=null),f(S,"class","dropdown-item"),f(M,"href",j=null),f(M,"class","dropdown-item"),f(L,"href",H=null),f(L,"class","dropdown-item"),f(N,"class","dropdown-content"),f(k,"class","dropdown-menu"),f(k,"id","dropdown-menu"),f(k,"role","menu"),f(s,"class","dropdown is-right"),A(s,"is-active",a[5]),f(l,"class","column")},m(n,r,c){h(n,l,r),d(l,s),d(s,t),Q[m].m(t,null),d(s,v),d(s,k),d(k,N),d(N,S),I(X,S,null),d(S,_),d(N,B),d(N,M),I(Z,M,null),d(M,U),d(N,q),d(N,L),I(aa,L,null),d(L,R),F=!0,c&&D(K),K=[V(t,"click",a[27]),V(S,"click",function(){C(a[16](a[8]))&&a[16](a[8]).apply(this,arguments)}),V(M,"click",function(){C(a[19](a[8]))&&a[19](a[8]).apply(this,arguments)}),V(L,"click",function(){C(a[20](a[8]))&&a[20](a[8]).apply(this,arguments)})]},p(l,n){let r=m;(m=W(a=l))===r?Q[m].p(a,n):(T(),E(Q[r],1,1,()=>{Q[r]=null}),x(),($=Q[m])||($=Q[m]=z[m](a)).c(),w($,1),$.m(t,null)),32&n[0]&&A(s,"is-active",a[5])},i(a){F||(w($),w(X.$$.fragment,a),w(Z.$$.fragment,a),w(aa.$$.fragment,a),F=!0)},o(a){E($),E(X.$$.fragment,a),E(Z.$$.fragment,a),E(aa.$$.fragment,a),F=!1},d(a){a&&u(l),Q[m].d(),P(X),P(Z),P(aa),D(K)}}}function Ba(a){let l,s,t;const c=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Ma(a){let l,s,t;const c=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Ua(a){let l,s,n={ctx:a,current:null,token:null,pending:Ra,then:La,catch:qa,value:35,error:36};return v(s=a[3],n),{c(){l=k(),n.block.c()},l(a){l=k(),n.block.l(a)},m(a,s){h(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l},p(l,t){if(a=l,n.ctx=a,8&t[0]&&s!==(s=a[3])&&v(s,n));else{const l=a.slice();l[35]=n.resolved,n.block.p(l,t)}},i:q,o:q,d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function ja(a){let l,s,n,t,c=[],i=new Map,d=a[8];const m=a=>a[34]+1;for(let l=0;l<d.length;l+=1){let s=Ta(a,d,l),n=m(s);i.set(n,c[l]=za(n,s))}return{c(){l=r("div");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){l=e(a,"DIV",{class:!0});var s=o(l);for(let a=0;a<c.length;a+=1)c[a].l(s);s.forEach(u),this.h()},h(){f(l,"class","list is-hoverable")},m(r,e,o){h(r,l,e);for(let a=0;a<c.length;a+=1)c[a].m(l,null);n=!0,o&&D(t),t=[ca(s=ha.call(null,l)),V(l,"click_outside",a[31])]},p(a,s){if(516992&s[0]){const n=a[8];T();for(let a=0;a<c.length;a+=1)c[a].r();c=ea(c,s,m,1,a,n,i,l,oa,za,null,Ta);for(let a=0;a<c.length;a+=1)c[a].a();x()}},i(a){if(!n){for(let a=0;a<d.length;a+=1)w(c[a]);n=!0}},o(a){for(let a=0;a<c.length;a+=1)E(c[a]);n=!1},d(a){a&&u(l);for(let a=0;a<c.length;a+=1)c[a].d();D(t)}}}function qa(a){let l,s,n=a[36].message+"";return{c(){l=r("p"),s=c(n),this.h()},l(a){l=e(a,"P",{class:!0,style:!0});var t=o(l);s=i(t,n),t.forEach(u),this.h()},h(){f(l,"class","list-item"),ua(l,"color","red")},m(a,n){h(a,l,n),d(l,s)},p(a,l){8&l[0]&&n!==(n=a[36].message+"")&&m(s,n)},d(a){a&&u(l)}}}function La(a){let l,s,n;return{c(){l=r("a"),s=c("no tracks found"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var n=o(l);s=i(n,"no tracks found"),n.forEach(u),this.h()},h(){f(l,"class","list-item"),f(l,"href",n=null)},m(a,n){h(a,l,n),d(l,s)},p:q,d(a){a&&u(l)}}}function Ra(a){let l,s;return{c(){l=r("p"),s=c("loading ..."),this.h()},l(a){l=e(a,"P",{class:!0});var n=o(l);s=i(n,"loading ..."),n.forEach(u),this.h()},h(){f(l,"class","list-item")},m(a,n){h(a,l,n),d(l,s)},p:q,d(a){a&&u(l)}}}function Ca(a){let l;return{c(){l=c("unknown artist")},l(a){l=i(a,"unknown artist")},m(a,s){h(a,l,s)},p:q,d(a){a&&u(l)}}}function Ha(a){let l,s,n,t=a[32].artists.map(Ja).join(", ")+"",r=a[32].name+"";return{c(){l=c(t),s=c(" - "),n=c(r)},l(a){l=i(a,t),s=i(a," - "),n=i(a,r)},m(a,t){h(a,l,t),h(a,s,t),h(a,n,t)},p(a,s){256&s[0]&&t!==(t=a[32].artists.map(Ja).join(", ")+"")&&m(l,t),256&s[0]&&r!==(r=a[32].name+"")&&m(n,r)},d(a){a&&u(l),a&&u(s),a&&u(n)}}}function Fa(a){let l;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ka(a){let l;const s=new n({props:{icon:W,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function za(a,l){let s,t,m,$,v,k,N,S,_,O,B,M,U,j,L,H,F,K,z,J,Q,W,X,Z,aa,la,sa,ca,ea,oa,ua,ha,da,ma=q;function pa(a,l){return a[32].artists?Ha:Ca}let ga=pa(l),$a=ga(l);const va=[Ka,Fa],wa=[];function Ea(a,l){return a[7]==a[34]?0:1}S=Ea(l),_=wa[S]=va[S](l);const ka=new n({props:{icon:G,class:"icon is-small"}}),ba=new n({props:{icon:ia,class:"icon is-small"}}),ya=new n({props:{icon:Y,class:"icon is-small"}}),Aa=new n({props:{icon:R,class:"icon is-small"}});function Ia(...a){return l[28](l[34],...a)}function Da(...a){return l[30](l[34],...a)}return{key:a,first:null,c(){s=r("a"),t=r("div"),m=r("div"),$a.c(),$=p(),v=r("div"),k=r("div"),N=r("div"),_.c(),O=p(),B=r("div"),M=r("div"),U=r("a"),b(ka.$$.fragment),j=c(" \n                      Play now"),H=p(),F=r("a"),b(ba.$$.fragment),K=c(" \n                      Play next"),J=p(),Q=r("a"),b(ya.$$.fragment),W=c(" \n                      Add to queue"),Z=p(),aa=r("a"),b(Aa.$$.fragment),la=c(" \n                      Add to a playlist"),ca=p(),this.h()},l(a){s=e(a,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=o(s);t=e(l,"DIV",{class:!0});var n=o(t);m=e(n,"DIV",{class:!0});var r=o(m);$a.l(r),r.forEach(u),$=g(n),v=e(n,"DIV",{class:!0});var c=o(v);k=e(c,"DIV",{class:!0});var f=o(k);N=e(f,"DIV",{class:!0});var h=o(N);_.l(h),h.forEach(u),O=g(f),B=e(f,"DIV",{class:!0,id:!0,role:!0});var d=o(B);M=e(d,"DIV",{class:!0});var p=o(M);U=e(p,"A",{href:!0,class:!0});var w=o(U);y(ka.$$.fragment,w),j=i(w," \n                      Play now"),w.forEach(u),H=g(p),F=e(p,"A",{href:!0,class:!0});var E=o(F);y(ba.$$.fragment,E),K=i(E," \n                      Play next"),E.forEach(u),J=g(p),Q=e(p,"A",{href:!0,class:!0});var b=o(Q);y(ya.$$.fragment,b),W=i(b," \n                      Add to queue"),b.forEach(u),Z=g(p),aa=e(p,"A",{href:!0,class:!0});var A=o(aa);y(Aa.$$.fragment,A),la=i(A," \n                      Add to a playlist"),A.forEach(u),p.forEach(u),d.forEach(u),f.forEach(u),c.forEach(u),n.forEach(u),ca=g(l),l.forEach(u),this.h()},h(){f(m,"class","column"),f(N,"class","dropdown-trigger"),f(U,"href",L=null),f(U,"class","dropdown-item"),f(F,"href",z=null),f(F,"class","dropdown-item"),f(Q,"href",X=null),f(Q,"class","dropdown-item"),f(aa,"href",sa=null),f(aa,"class","dropdown-item"),f(M,"class","dropdown-content"),f(B,"class","dropdown-menu"),f(B,"id","dropdown-menu"),f(B,"role","menu"),f(k,"class","dropdown is-right is-up"),A(k,"is-active",l[7]==l[34]),f(v,"class","column is-narrow"),f(t,"class","columns is-mobile"),f(s,"class","list-item"),f(s,"href",ea=null),f(s,"draggable",oa=!0),f(s,"ondragover","return false"),A(s,"is-active",l[9]===l[34]),this.first=s},m(a,n,r){h(a,s,n),d(s,t),d(t,m),$a.m(m,null),d(t,$),d(t,v),d(v,k),d(k,N),wa[S].m(N,null),d(k,O),d(k,B),d(B,M),d(M,U),I(ka,U,null),d(U,j),d(M,H),d(M,F),I(ba,F,null),d(F,K),d(M,J),d(M,Q),I(ya,Q,null),d(Q,W),d(M,Z),d(M,aa),I(Aa,aa,null),d(aa,la),d(s,ca),ha=!0,r&&D(da),da=[V(U,"click",function(){C(l[16](l[32].uri))&&l[16](l[32].uri).apply(this,arguments)}),V(F,"click",function(){C(l[17](l[32].uri))&&l[17](l[32].uri).apply(this,arguments)}),V(Q,"click",function(){C(l[18](l[32].uri))&&l[18](l[32].uri).apply(this,arguments)}),V(aa,"click",function(){C(l[13](l[32]))&&l[13](l[32]).apply(this,arguments)}),V(t,"click",function(){C(l[14](l[34]))&&l[14](l[34]).apply(this,arguments)}),V(s,"dragstart",Ia),V(s,"drop",na(l[29])),V(s,"dragenter",Da)]},p(a,n){ga===(ga=pa(l=a))&&$a?$a.p(l,n):($a.d(1),($a=ga(l))&&($a.c(),$a.m(m,null)));let t=S;(S=Ea(l))===t?wa[S].p(l,n):(T(),E(wa[t],1,1,()=>{wa[t]=null}),x(),(_=wa[S])||(_=wa[S]=va[S](l)).c(),w(_,1),_.m(N,null)),384&n[0]&&A(k,"is-active",l[7]==l[34]),768&n[0]&&A(s,"is-active",l[9]===l[34])},r(){ua=s.getBoundingClientRect()},f(){ta(s),ma()},a(){ma(),ma=ra(s,ua,fa,{duration:300})},i(a){ha||(w(_),w(ka.$$.fragment,a),w(ba.$$.fragment,a),w(ya.$$.fragment,a),w(Aa.$$.fragment,a),ha=!0)},o(a){E(_),E(ka.$$.fragment,a),E(ba.$$.fragment,a),E(ya.$$.fragment,a),E(Aa.$$.fragment,a),ha=!1},d(a){a&&u(s),$a.d(),wa[S].d(),P(ka),P(ba),P(ya),P(Aa),D(da)}}}function Ga(a){let l,s,t,m,$,v,S,_,O,B,M,U,j,q,L,R,C,H,G,J,Y,Q,W,X,Z,aa,la,sa,na,ta,ra,ca,ea;const oa=[Na,Pa],ia=[];function ua(a,l){return a[0]?0:1}H=ua(a),G=ia[H]=oa[H](a);let fa=a[2],ha=[];for(let l=0;l<fa.length;l+=1)ha[l]=_a(xa(a,fa,l));let da=null;fa.length||(da=Sa());const ma=new n({props:{icon:F,class:"icon"}});let pa=a[8].length>0&&Oa(a);const ga=new Va({props:{showAddToPlaylistModal:a[4],track:a[6]}}),$a=[ja,Ua],va=[];function wa(a,l){return a[8].length>0?0:a[3]?1:-1}return~(na=wa(a))&&(ta=va[na]=$a[na](a)),{c(){l=p(),s=r("h1"),t=c("Search"),m=p(),$=r("div"),v=r("div"),S=r("input"),_=p(),O=r("div"),B=r("div"),M=r("div"),U=r("div"),j=r("div"),q=r("button"),L=r("span"),R=c("Sources"),C=p(),G.c(),J=p(),Y=r("div"),Q=r("div");for(let a=0;a<ha.length;a+=1)ha[a].c();da&&da.c(),W=p(),X=r("div"),Z=r("button"),b(ma.$$.fragment),aa=p(),pa&&pa.c(),la=p(),b(ga.$$.fragment),sa=p(),ta&&ta.c(),ra=k(),this.h()},l(a){K('[data-svelte="svelte-3s7lyl"]',document.head).forEach(u),l=g(a),s=e(a,"H1",{class:!0});var n=o(s);t=i(n,"Search"),n.forEach(u),m=g(a),$=e(a,"DIV",{class:!0});var r=o($);v=e(r,"DIV",{class:!0});var c=o(v);S=e(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(u),_=g(r),O=e(r,"DIV",{class:!0});var f=o(O);B=e(f,"DIV",{class:!0});var h=o(B);M=e(h,"DIV",{class:!0});var d=o(M);U=e(d,"DIV",{class:!0});var p=o(U);j=e(p,"DIV",{class:!0});var w=o(j);q=e(w,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=o(q);L=e(E,"SPAN",{});var b=o(L);R=i(b,"Sources"),b.forEach(u),C=g(E),G.l(E),E.forEach(u),w.forEach(u),J=g(p),Y=e(p,"DIV",{class:!0,id:!0,role:!0});var A=o(Y);Q=e(A,"DIV",{class:!0});var I=o(Q);for(let a=0;a<ha.length;a+=1)ha[a].l(I);da&&da.l(I),I.forEach(u),A.forEach(u),p.forEach(u),d.forEach(u),W=g(h),X=e(h,"DIV",{class:!0});var D=o(X);Z=e(D,"BUTTON",{class:!0});var V=o(Z);y(ma.$$.fragment,V),V.forEach(u),D.forEach(u),aa=g(h),pa&&pa.l(h),h.forEach(u),f.forEach(u),r.forEach(u),la=g(a),y(ga.$$.fragment,a),sa=g(a),ta&&ta.l(a),ra=k(),this.h()},h(){document.title="Search",f(s,"class","title"),f(S,"class","input is-rounded svelte-ywa9aa"),f(S,"type","text"),f(S,"placeholder","Search for music"),f(v,"class","column"),f(q,"class","button is-link"),f(q,"aria-haspopup","true"),f(q,"aria-controls","dropdown-menu-sources"),f(j,"class","dropdown-trigger"),f(Q,"class","dropdown-content"),f(Y,"class","dropdown-menu"),f(Y,"id","dropdown-menu-sources"),f(Y,"role","menu"),f(U,"class","dropdown"),A(U,"is-active",a[0]),f(M,"class","column"),f(Z,"class","button"),f(X,"class","column"),f(B,"class","columns is-mobile"),f(O,"class","column is-narrow"),f($,"class","columns")},m(n,r,c){h(n,l,r),h(n,s,r),d(s,t),h(n,m,r),h(n,$,r),d($,v),d(v,S),z(S,a[10]),d($,_),d($,O),d(O,B),d(B,M),d(M,U),d(U,j),d(j,q),d(q,L),d(L,R),d(q,C),ia[H].m(q,null),d(U,J),d(U,Y),d(Y,Q);for(let a=0;a<ha.length;a+=1)ha[a].m(Q,null);da&&da.m(Q,null),d(B,W),d(B,X),d(X,Z),I(ma,Z,null),d(B,aa),pa&&pa.m(B,null),h(n,la,r),I(ga,n,r),h(n,sa,r),~na&&va[na].m(n,r),h(n,ra,r),ca=!0,c&&D(ea),ea=[V(S,"keydown",a[12]),V(S,"input",a[23]),V(j,"click",a[24]),V(Z,"click",a[11])]},p(a,l){1024&l[0]&&S.value!==a[10]&&z(S,a[10]);let s=H;if((H=ua(a))===s?ia[H].p(a,l):(T(),E(ia[s],1,1,()=>{ia[s]=null}),x(),(G=ia[H])||(G=ia[H]=oa[H](a)).c(),w(G,1),G.m(q,null)),6&l[0]){let s;for(fa=a[2],s=0;s<fa.length;s+=1){const n=xa(a,fa,s);ha[s]?ha[s].p(n,l):(ha[s]=_a(n),ha[s].c(),ha[s].m(Q,null))}for(;s<ha.length;s+=1)ha[s].d(1);ha.length=fa.length,fa.length?da&&(da.d(1),da=null):da||((da=Sa()).c(),da.m(Q,null))}1&l[0]&&A(U,"is-active",a[0]),a[8].length>0?pa?(pa.p(a,l),w(pa,1)):((pa=Oa(a)).c(),w(pa,1),pa.m(B,null)):pa&&(T(),E(pa,1,1,()=>{pa=null}),x());const n={};16&l[0]&&(n.showAddToPlaylistModal=a[4]),64&l[0]&&(n.track=a[6]),ga.$set(n);let t=na;(na=wa(a))===t?~na&&va[na].p(a,l):(ta&&(T(),E(va[t],1,1,()=>{va[t]=null}),x()),~na?((ta=va[na])||(ta=va[na]=$a[na](a)).c(),w(ta,1),ta.m(ra.parentNode,ra)):ta=null)},i(a){ca||(w(G),w(ma.$$.fragment,a),w(pa),w(ga.$$.fragment,a),w(ta),ca=!0)},o(a){E(G),E(ma.$$.fragment,a),E(pa),E(ga.$$.fragment,a),E(ta),ca=!1},d(a){a&&u(l),a&&u(s),a&&u(m),a&&u($),ia[H].d(),N(ha,a),da&&da.d(),P(ma),pa&&pa.d(),a&&u(la),P(ga,a),a&&u(sa),~na&&va[na].d(a),a&&u(ra),D(ea)}}}const Ja=a=>a.name;function Ya(a,l,s){let n;S(a,_,a=>s(21,n=a));let t,r,c,e=!1,o=[],i=["http","https","mms","rtmp","rtmps","rtsp","file"],u=[],f=!1,h=!1,d=[],m=!1,p="";B(async()=>{M(_,n=await U());const a=await n.getUriSchemes();a&&(s(2,u=a.filter(a=>-1===i.indexOf(a))),s(1,o=u))});const g=async()=>{s(8,d=[]);const a=o.map(a=>a+":"),l=await n.library.search({query:{any:[p]},uris:[`${a}`]});if(l&&l.length>0){let{tracks:a}=l.pop();return a&&s(8,d=a),!0}};function $(a){a.dataTransfer.dropEffect="move",s(9,m=null)}const v=[[]];return[e,o,u,t,f,h,r,c,d,m,p,g,function(a){13===a.which&&s(3,t=g())},a=>{s(6,r=a),s(4,f=!f)},a=>{s(7,c=c===a?null:a)},$,a=>{s(7,c=null),s(5,h=!1),X(a)},a=>{s(7,c=null),Z(a)},a=>{s(7,c=null),aa(a)},a=>{s(5,h=!1),la(a)},a=>{s(5,h=!1),aa(a)},n,i,function(){p=this.value,s(10,p)},()=>s(0,e=!e),function(){o=sa(v[0]),s(1,o)},v,()=>s(5,h=!h),(a,l)=>(function(a,l){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move";const s=l;a.dataTransfer.setData("text/plain",s)})(l,a),a=>$(a),a=>s(9,m=a),()=>s(7,c=null)]}export default class extends a{constructor(a){super(),l(this,a,Ya,Ga,s,{},[-1,-1])}}
