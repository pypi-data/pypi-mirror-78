import{S as a,a as s,s as l,P as n,ap as r,aq as t,R as c,al as e,ar as o,T as i,F as f,j as u,O as m,z as h,A as d,g as p,e as $,t as g,b as v,u as w,c as E,d as k,l as b,f as y,v as D,h as I,w as V,k as A,x,r as P,o as T,i as N,ag as j,ah as q,ai as B,H as O,C as R,B as U,J as C,as as H,K as L,m as Y,N as z,U as F,ad as J,W as K,an as M,ao as S,aj as W,at as _,a2 as G,a3 as Q,ae as X,a1 as Z,a8 as aa,au as sa,av as la,aw as na,y as ra,D as ta,E as ca,I as ea,V as oa,ax as ia}from"./client.90b900a1.js";import{f as fa}from"./index.3d02d254.js";import{c as ua}from"./clickOutside.69487d64.js";function ma(a,s,l){const n=a.slice();return n[32]=s[l],n[34]=l,n}function ha(a){let s,l,r;const t=new n({props:{icon:G,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){s=$("a"),w(t.$$.fragment),this.h()},l(a){s=E(a,"A",{href:!0,class:!0});var l=k(s);D(t.$$.fragment,l),l.forEach(p),this.h()},h(){I(s,"href",l=null),I(s,"class","button")},m(a,l){u(a,s,l),x(t,s,null),r=!0},p:z,i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&p(s),U(t)}}}function da(a){let s,l,r;const t=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){s=$("a"),w(t.$$.fragment),this.h()},l(a){s=E(a,"A",{href:!0,class:!0});var l=k(s);D(t.$$.fragment,l),l.forEach(p),this.h()},h(){I(s,"href",l=null),I(s,"class","button")},m(a,l){u(a,s,l),x(t,s,null),r=!0},p:z,i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&p(s),U(t)}}}function pa(a){let s,l,n,r={ctx:a,current:null,token:null,pending:Ea,then:ga,catch:$a,value:35,error:31,blocks:[,,,]};return m(l=a[4],r),{c(){s=f(),r.block.c()},l(a){s=f(),r.block.l(a)},m(a,l){u(a,s,l),r.block.m(a,r.anchor=l),r.mount=(()=>s.parentNode),r.anchor=s,n=!0},p(s,n){if(a=s,r.ctx=a,16&n[0]&&l!==(l=a[4])&&m(l,r));else{const s=a.slice();s[35]=r.resolved,r.block.p(s,n)}},i(a){n||(h(r.block),n=!0)},o(a){for(let a=0;a<3;a+=1){const s=r.blocks[a];d(s)}n=!1},d(a){a&&p(s),r.block.d(a),r.token=null,r=null}}}function $a(a){let s,l=a[31].message+"";return{c(){s=g(l)},l(a){s=b(a,l)},m(a,l){u(a,s,l)},p(a,n){16&n[0]&&l!==(l=a[31].message+"")&&Y(s,l)},i:z,o:z,d(a){a&&p(s)}}}function ga(a){let s,l,n,r;const t=[wa,va],c=[];function e(a,s){return a[35]?0:1}return s=e(a),l=c[s]=t[s](a),{c(){l.c(),n=f()},l(a){l.l(a),n=f()},m(a,l){c[s].m(a,l),u(a,n,l),r=!0},p(a,r){let o=s;(s=e(a))===o?c[s].p(a,r):(F(),d(c[o],1,1,()=>{c[o]=null}),R(),(l=c[s])||(l=c[s]=t[s](a)).c(),h(l,1),l.m(n.parentNode,n))},i(a){r||(h(l),r=!0)},o(a){d(l),r=!1},d(a){c[s].d(a),a&&p(n)}}}function va(a){let s;return{c(){s=g("Error")},l(a){s=b(a,"Error")},m(a,l){u(a,s,l)},p:z,i:z,o:z,d(a){a&&p(s)}}}function wa(a){let s,l,r,t;const c=new n({props:{icon:X,class:"icon"}});return{c(){s=$("div"),l=$("a"),w(c.$$.fragment),this.h()},l(a){s=E(a,"DIV",{class:!0});var n=k(s);l=E(n,"A",{class:!0,href:!0});var r=k(l);D(c.$$.fragment,r),r.forEach(p),n.forEach(p),this.h()},h(){I(l,"class","button"),I(l,"href",r=null),I(s,"class","column")},m(a,n){u(a,s,n),A(s,l),x(c,l,null),t=!0},p:z,i(a){t||(h(c.$$.fragment,a),t=!0)},o(a){d(c.$$.fragment,a),t=!1},d(a){a&&p(s),U(c)}}}function Ea(a){let s,l,r,t;const c=new n({props:{icon:J,spin:!0,class:"icon"}});return{c(){s=$("div"),l=$("a"),w(c.$$.fragment),this.h()},l(a){s=E(a,"DIV",{class:!0});var n=k(s);l=E(n,"A",{class:!0,href:!0});var r=k(l);D(c.$$.fragment,r),r.forEach(p),n.forEach(p),this.h()},h(){I(l,"class","button"),I(l,"href",r=null),I(s,"class","column")},m(a,n){u(a,s,n),A(s,l),x(c,l,null),t=!0},p:z,i(a){t||(h(c.$$.fragment,a),t=!0)},o(a){d(c.$$.fragment,a),t=!1},d(a){a&&p(s),U(c)}}}function ka(a){let s,l,n=a[31].message+"";return{c(){s=$("p"),l=g(n),this.h()},l(a){s=E(a,"P",{class:!0,style:!0});var r=k(s);l=b(r,n),r.forEach(p),this.h()},h(){I(s,"class","list-item"),Z(s,"color","red")},m(a,n){u(a,s,n),A(s,l)},p(a,s){128&s[0]&&n!==(n=a[31].message+"")&&Y(l,n)},i:z,o:z,d(a){a&&p(s)}}}function ba(a){let s,l,n,r;const t=[Da,ya],c=[];function e(a,s){return a[2].tracks?0:1}return s=e(a),l=c[s]=t[s](a),{c(){l.c(),n=f()},l(a){l.l(a),n=f()},m(a,l){c[s].m(a,l),u(a,n,l),r=!0},p(a,r){let o=s;(s=e(a))===o?c[s].p(a,r):(F(),d(c[o],1,1,()=>{c[o]=null}),R(),(l=c[s])||(l=c[s]=t[s](a)).c(),h(l,1),l.m(n.parentNode,n))},i(a){r||(h(l),r=!0)},o(a){d(l),r=!1},d(a){c[s].d(a),a&&p(n)}}}function ya(a){let s,l,n;return{c(){s=$("a"),l=g("No tracks"),this.h()},l(a){s=E(a,"A",{class:!0,href:!0});var n=k(s);l=b(n,"No tracks"),n.forEach(p),this.h()},h(){I(s,"class","list-item"),I(s,"href",n=null)},m(a,n){u(a,s,n),A(s,l)},p:z,i:z,o:z,d(a){a&&p(s)}}}function Da(a){let s,l,n=[],r=new Map,t=a[2].tracks;const c=a=>a[10](a[32]);for(let s=0;s<t.length;s+=1){let l=ma(a,t,s),e=c(l);r.set(e,n[s]=xa(e,l))}let e=null;return t.length||(e=Ia()),{c(){for(let a=0;a<n.length;a+=1)n[a].c();s=f(),e&&e.c()},l(a){for(let s=0;s<n.length;s+=1)n[s].l(a);s=f(),e&&e.l(a)},m(a,r){for(let s=0;s<n.length;s+=1)n[s].m(a,r);u(a,s,r),e&&e.m(a,r),l=!0},p(a,l){if(43108&l[0]){const t=a[2].tracks;F();for(let a=0;a<n.length;a+=1)n[a].r();n=ea(n,l,c,1,a,t,r,s.parentNode,oa,xa,s,ma);for(let a=0;a<n.length;a+=1)n[a].a();R(),t.length?e&&(e.d(1),e=null):e||((e=Ia()).c(),e.m(s.parentNode,s))}},i(a){if(!l){for(let a=0;a<t.length;a+=1)h(n[a]);l=!0}},o(a){for(let a=0;a<n.length;a+=1)d(n[a]);l=!1},d(a){for(let s=0;s<n.length;s+=1)n[s].d(a);a&&p(s),e&&e.d(a)}}}function Ia(a){let s,l,n;return{c(){s=$("a"),l=g("loading songs"),this.h()},l(a){s=E(a,"A",{class:!0,href:!0});var n=k(s);l=b(n,"loading songs"),n.forEach(p),this.h()},h(){I(s,"class","list-item"),I(s,"href",n=null)},m(a,n){u(a,s,n),A(s,l)},d(a){a&&p(s)}}}function Va(a){let s;const l=new n({props:{icon:G,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){w(l.$$.fragment)},l(a){D(l.$$.fragment,a)},m(a,n){x(l,a,n),s=!0},p:z,i(a){s||(h(l.$$.fragment,a),s=!0)},o(a){d(l.$$.fragment,a),s=!1},d(a){U(l,a)}}}function Aa(a){let s;const l=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){w(l.$$.fragment)},l(a){D(l.$$.fragment,a)},m(a,n){x(l,a,n),s=!0},p:z,i(a){s||(h(l.$$.fragment,a),s=!0)},o(a){d(l.$$.fragment,a),s=!1},d(a){U(l,a)}}}function xa(a,s){let l,r,t,e,f,m,j,q,B,O,C,H,L,J,K,M,S,W,_,G,Q,X,Z,aa,ea,oa,ua,ma,ha,da,pa,$a,ga,va,wa=s[32].name+"",Ea=z;const ka=[Aa,Va],ba=[];function ya(a,s){return a[6]==a[34]?0:1}B=ya(s),O=ba[B]=ka[B](s);const Da=new n({props:{icon:c,class:"icon is-small"}}),Ia=new n({props:{icon:ia,class:"icon is-small"}}),xa=new n({props:{icon:o,class:"icon is-small"}}),Pa=new n({props:{icon:i,class:"icon is-small"}});function Ta(...a){return s[26](s[34],...a)}function Na(...a){return s[27](s[34],...a)}function ja(...a){return s[28](s[34],...a)}return{key:a,first:null,c(){l=$("a"),r=$("div"),t=$("div"),e=g(wa),f=v(),m=$("div"),j=$("div"),q=$("div"),O.c(),C=v(),H=$("div"),L=$("div"),J=$("a"),w(Da.$$.fragment),K=g(" \n                       Play now"),S=v(),W=$("a"),w(Ia.$$.fragment),_=g(" \n                       Play next"),Q=v(),X=$("a"),w(xa.$$.fragment),Z=g(" \n                       Add to queue"),ea=v(),oa=$("a"),w(Pa.$$.fragment),ua=g(" \n                       Remove track"),ha=v(),this.h()},l(a){l=E(a,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var s=k(l);r=E(s,"DIV",{class:!0});var n=k(r);t=E(n,"DIV",{class:!0});var c=k(t);e=b(c,wa),c.forEach(p),f=y(n),m=E(n,"DIV",{class:!0});var o=k(m);j=E(o,"DIV",{class:!0});var i=k(j);q=E(i,"DIV",{class:!0});var u=k(q);O.l(u),u.forEach(p),C=y(i),H=E(i,"DIV",{class:!0,id:!0,role:!0});var h=k(H);L=E(h,"DIV",{class:!0});var d=k(L);J=E(d,"A",{href:!0,class:!0});var $=k(J);D(Da.$$.fragment,$),K=b($," \n                       Play now"),$.forEach(p),S=y(d),W=E(d,"A",{href:!0,class:!0});var g=k(W);D(Ia.$$.fragment,g),_=b(g," \n                       Play next"),g.forEach(p),Q=y(d),X=E(d,"A",{href:!0,class:!0});var v=k(X);D(xa.$$.fragment,v),Z=b(v," \n                       Add to queue"),v.forEach(p),ea=y(d),oa=E(d,"A",{href:!0,class:!0});var w=k(oa);D(Pa.$$.fragment,w),ua=b(w," \n                       Remove track"),w.forEach(p),d.forEach(p),h.forEach(p),i.forEach(p),o.forEach(p),n.forEach(p),ha=y(s),s.forEach(p),this.h()},h(){I(t,"class","column"),I(q,"class","dropdown-trigger"),I(J,"href",M=null),I(J,"class","dropdown-item"),I(W,"href",G=null),I(W,"class","dropdown-item"),I(X,"href",aa=null),I(X,"class","dropdown-item"),I(oa,"href",ma=null),I(oa,"class","dropdown-item"),I(L,"class","dropdown-content"),I(H,"class","dropdown-menu"),I(H,"id","dropdown-menu"),I(H,"role","menu"),I(j,"class","dropdown is-right is-up"),V(j,"is-active",s[6]==s[34]),I(m,"class","column is-narrow"),I(r,"class","columns is-mobile"),I(l,"class","list-item"),I(l,"href",da=null),I(l,"draggable",pa=!0),I(l,"ondragover","return false"),V(l,"is-active",s[5]===s[34]),this.first=l},m(a,n,c){u(a,l,n),A(l,r),A(r,t),A(t,e),A(r,f),A(r,m),A(m,j),A(j,q),ba[B].m(q,null),A(j,C),A(j,H),A(H,L),A(L,J),x(Da,J,null),A(J,K),A(L,S),A(L,W),x(Ia,W,null),A(W,_),A(L,Q),A(L,X),x(xa,X,null),A(X,Z),A(L,ea),A(L,oa),x(Pa,oa,null),A(oa,ua),A(l,ha),ga=!0,c&&P(va),va=[T(t,"click",function(){N(s[15](s[34]))&&s[15](s[34]).apply(this,arguments)}),T(q,"click",function(){N(s[15](s[34]))&&s[15](s[34]).apply(this,arguments)}),T(J,"click",function(){N(sa(s[32].uri))&&sa(s[32].uri).apply(this,arguments)}),T(W,"click",function(){N(la(s[32].uri))&&la(s[32].uri).apply(this,arguments)}),T(X,"click",function(){N(na(s[32].uri))&&na(s[32].uri).apply(this,arguments)}),T(oa,"click",function(){N(s[13](s[32].uri))&&s[13](s[32].uri).apply(this,arguments)}),T(l,"dragstart",Ta),T(l,"drop",ra(Na)),T(l,"dragenter",ja)]},p(a,n){s=a,(!ga||4&n[0])&&wa!==(wa=s[32].name+"")&&Y(e,wa);let r=B;(B=ya(s))===r?ba[B].p(s,n):(F(),d(ba[r],1,1,()=>{ba[r]=null}),R(),(O=ba[B])||(O=ba[B]=ka[B](s)).c(),h(O,1),O.m(q,null)),68&n[0]&&V(j,"is-active",s[6]==s[34]),36&n[0]&&V(l,"is-active",s[5]===s[34])},r(){$a=l.getBoundingClientRect()},f(){ta(l),Ea()},a(){Ea(),Ea=ca(l,$a,fa,{})},i(a){ga||(h(O),h(Da.$$.fragment,a),h(Ia.$$.fragment,a),h(xa.$$.fragment,a),h(Pa.$$.fragment,a),ga=!0)},o(a){d(O),d(Da.$$.fragment,a),d(Ia.$$.fragment,a),d(xa.$$.fragment,a),d(Pa.$$.fragment,a),ga=!1},d(a){a&&p(l),ba[B].d(),U(Da),U(Ia),U(xa),U(Pa),P(va)}}}function Pa(a){let s,l,r;const t=new n({props:{icon:J,class:"icon is-24",spin:!0}});return{c(){s=$("p"),w(t.$$.fragment),l=g("\n      Loading songs .."),this.h()},l(a){s=E(a,"P",{class:!0});var n=k(s);D(t.$$.fragment,n),l=b(n,"\n      Loading songs .."),n.forEach(p),this.h()},h(){I(s,"class","list-item")},m(a,n){u(a,s,n),x(t,s,null),A(s,l),r=!0},p:z,i(a){r||(h(t.$$.fragment,a),r=!0)},o(a){d(t.$$.fragment,a),r=!1},d(a){a&&p(s),U(t)}}}function Ta(a){let s,l,f,C,H,L,Y,z,J,K,M,S,W,_,G,Q,X,Z,aa,sa,la,na,ra,ta,ca,ea,oa,ia,fa,ma,$a,ga,va,wa,Ea,ya,Da,Ia,Va,Aa,xa,Ta,Na,ja,qa,Ba,Oa,Ra,Ua,Ca,Ha,La,Ya,za,Fa,Ja,Ka=a[9].replace("-"," ")+"";const Ma=new n({props:{icon:r,class:"icon"}}),Sa=new n({props:{icon:t,class:"icon"}}),Wa=[da,ha],_a=[];function Ga(a,s){return a[1]?0:1}Z=Ga(a),aa=_a[Z]=Wa[Z](a);const Qa=new n({props:{icon:c,class:"icon is-small"}}),Xa=new n({props:{icon:e,class:"icon is-small"}}),Za=new n({props:{icon:o,class:"icon is-small"}}),as=new n({props:{icon:i,class:"icon is-small"}});let ss=a[4]&&pa(a),ls={ctx:a,current:null,token:null,pending:Pa,then:ba,catch:ka,value:30,error:31,blocks:[,,,]};return m(Ya=a[7],ls),{c(){s=$("div"),l=$("div"),f=$("h1"),C=g(Ka),H=v(),L=$("div"),Y=$("div"),z=$("div"),J=$("a"),w(Ma.$$.fragment),K=v(),M=$("div"),S=$("a"),w(Sa.$$.fragment),_=v(),G=$("div"),Q=$("div"),X=$("div"),aa.c(),sa=v(),la=$("div"),na=$("div"),ra=$("a"),w(Qa.$$.fragment),ta=g("  \n                  Play now"),ea=v(),oa=$("a"),w(Xa.$$.fragment),ia=g("  \n                  Play shuffle"),ma=v(),$a=$("a"),w(Za.$$.fragment),ga=g("  \n                  Add to queue"),wa=v(),Ea=$("a"),w(as.$$.fragment),ya=g("  \n                  Delete playlist"),Ia=v(),ss&&ss.c(),Va=v(),Aa=$("div"),xa=$("div"),Ta=v(),Na=$("div"),ja=$("p"),qa=g("Delete playlist"),Ba=v(),Oa=$("button"),Ra=g("Yes"),Ua=v(),Ca=$("button"),Ha=v(),La=$("div"),ls.block.c(),this.h()},l(a){s=E(a,"DIV",{class:!0});var n=k(s);l=E(n,"DIV",{class:!0});var r=k(l);f=E(r,"H1",{class:!0});var t=k(f);C=b(t,Ka),t.forEach(p),r.forEach(p),H=y(n),L=E(n,"DIV",{class:!0});var c=k(L);Y=E(c,"DIV",{class:!0});var e=k(Y);z=E(e,"DIV",{class:!0});var o=k(z);J=E(o,"A",{class:!0,href:!0});var i=k(J);D(Ma.$$.fragment,i),i.forEach(p),o.forEach(p),K=y(e),M=E(e,"DIV",{class:!0});var u=k(M);S=E(u,"A",{class:!0,href:!0});var m=k(S);D(Sa.$$.fragment,m),m.forEach(p),u.forEach(p),_=y(e),G=E(e,"DIV",{class:!0});var h=k(G);Q=E(h,"DIV",{class:!0});var d=k(Q);X=E(d,"DIV",{class:!0});var $=k(X);aa.l($),$.forEach(p),sa=y(d),la=E(d,"DIV",{class:!0,id:!0,role:!0});var g=k(la);na=E(g,"DIV",{class:!0});var v=k(na);ra=E(v,"A",{href:!0,class:!0});var w=k(ra);D(Qa.$$.fragment,w),ta=b(w,"  \n                  Play now"),w.forEach(p),ea=y(v),oa=E(v,"A",{href:!0,class:!0});var I=k(oa);D(Xa.$$.fragment,I),ia=b(I,"  \n                  Play shuffle"),I.forEach(p),ma=y(v),$a=E(v,"A",{href:!0,class:!0});var V=k($a);D(Za.$$.fragment,V),ga=b(V,"  \n                  Add to queue"),V.forEach(p),wa=y(v),Ea=E(v,"A",{href:!0,class:!0});var A=k(Ea);D(as.$$.fragment,A),ya=b(A,"  \n                  Delete playlist"),A.forEach(p),v.forEach(p),g.forEach(p),d.forEach(p),h.forEach(p),Ia=y(e),ss&&ss.l(e),e.forEach(p),c.forEach(p),n.forEach(p),Va=y(a),Aa=E(a,"DIV",{class:!0});var x=k(Aa);xa=E(x,"DIV",{class:!0}),k(xa).forEach(p),Ta=y(x),Na=E(x,"DIV",{class:!0});var P=k(Na);ja=E(P,"P",{class:!0});var T=k(ja);qa=b(T,"Delete playlist"),T.forEach(p),Ba=y(P),Oa=E(P,"BUTTON",{class:!0});var N=k(Oa);Ra=b(N,"Yes"),N.forEach(p),P.forEach(p),Ua=y(x),Ca=E(x,"BUTTON",{class:!0,"aria-label":!0}),k(Ca).forEach(p),x.forEach(p),Ha=y(a),La=E(a,"DIV",{class:!0});var j=k(La);ls.block.l(j),j.forEach(p),this.h()},h(){I(f,"class","title"),I(l,"class","column"),I(J,"class","button"),I(J,"href","playlists"),I(z,"class","column"),I(S,"class","button"),I(S,"href",W=null),I(M,"class","column"),I(X,"class","dropdown-trigger"),I(ra,"href",ca=null),I(ra,"class","dropdown-item"),I(oa,"href",fa=null),I(oa,"class","dropdown-item"),I($a,"href",va=null),I($a,"class","dropdown-item"),I(Ea,"href",Da=null),I(Ea,"class","dropdown-item"),I(na,"class","dropdown-content"),I(la,"class","dropdown-menu"),I(la,"id","dropdown-menu"),I(la,"role","menu"),I(Q,"class","dropdown is-right"),V(Q,"is-active",a[1]),I(G,"class","column"),I(Y,"class","columns is-mobile"),I(L,"class","column is-narrow"),I(s,"class","columns"),I(xa,"class","modal-background svelte-2nujim"),I(ja,"class","title"),I(Oa,"class","button"),I(Na,"class","modal-content has-text-centered"),I(Ca,"class","modal-close is-large svelte-2nujim"),I(Ca,"aria-label","close"),I(Aa,"class","modal svelte-2nujim"),V(Aa,"is-active",a[0]),I(La,"class","list is-hoverable")},m(n,r,t){u(n,s,r),A(s,l),A(l,f),A(f,C),A(s,H),A(s,L),A(L,Y),A(Y,z),A(z,J),x(Ma,J,null),A(Y,K),A(Y,M),A(M,S),x(Sa,S,null),A(Y,_),A(Y,G),A(G,Q),A(Q,X),_a[Z].m(X,null),A(Q,sa),A(Q,la),A(la,na),A(na,ra),x(Qa,ra,null),A(ra,ta),A(na,ea),A(na,oa),x(Xa,oa,null),A(oa,ia),A(na,ma),A(na,$a),x(Za,$a,null),A($a,ga),A(na,wa),A(na,Ea),x(as,Ea,null),A(Ea,ya),A(Y,Ia),ss&&ss.m(Y,null),u(n,Va,r),u(n,Aa,r),A(Aa,xa),A(Aa,Ta),A(Aa,Na),A(Na,ja),A(ja,qa),A(Na,Ba),A(Na,Oa),A(Oa,Ra),A(Aa,Ua),A(Aa,Ca),u(n,Ha,r),u(n,La,r),ls.block.m(La,ls.anchor=null),ls.mount=(()=>La),ls.anchor=null,Fa=!0,t&&P(Ja),Ja=[T(S,"click",a[12]),T(X,"click",a[22]),T(ra,"click",function(){N(j(a[3].uri))&&j(a[3].uri).apply(this,arguments)}),T(oa,"click",function(){N(q(a[3].uri))&&q(a[3].uri).apply(this,arguments)}),T($a,"click",function(){N(B(a[3].uri))&&B(a[3].uri).apply(this,arguments)}),T(Ea,"click",a[23]),T(xa,"click",a[24]),T(Oa,"click",function(){N(a[14](a[3].uri))&&a[14](a[3].uri).apply(this,arguments)}),T(Ca,"click",a[25]),O(za=ua.call(null,La)),T(La,"click_outside",a[29])]},p(s,l){let n=Z;if((Z=Ga(a=s))===n?_a[Z].p(a,l):(F(),d(_a[n],1,1,()=>{_a[n]=null}),R(),(aa=_a[Z])||(aa=_a[Z]=Wa[Z](a)).c(),h(aa,1),aa.m(X,null)),2&l[0]&&V(Q,"is-active",a[1]),a[4]?ss?(ss.p(a,l),h(ss,1)):((ss=pa(a)).c(),h(ss,1),ss.m(Y,null)):ss&&(F(),d(ss,1,1,()=>{ss=null}),R()),1&l[0]&&V(Aa,"is-active",a[0]),ls.ctx=a,128&l[0]&&Ya!==(Ya=a[7])&&m(Ya,ls));else{const s=a.slice();s[30]=ls.resolved,ls.block.p(s,l)}},i(a){Fa||(h(Ma.$$.fragment,a),h(Sa.$$.fragment,a),h(aa),h(Qa.$$.fragment,a),h(Xa.$$.fragment,a),h(Za.$$.fragment,a),h(as.$$.fragment,a),h(ss),h(ls.block),Fa=!0)},o(a){d(Ma.$$.fragment,a),d(Sa.$$.fragment,a),d(aa),d(Qa.$$.fragment,a),d(Xa.$$.fragment,a),d(Za.$$.fragment,a),d(as.$$.fragment,a),d(ss);for(let a=0;a<3;a+=1){const s=ls.blocks[a];d(s)}Fa=!1},d(a){a&&p(s),U(Ma),U(Sa),_a[Z].d(),U(Qa),U(Xa),U(Za),U(as),ss&&ss.d(),a&&p(Va),a&&p(Aa),a&&p(Ha),a&&p(La),ls.block.d(),ls.token=null,ls=null,P(Ja)}}}function Na(a,s,l){let n,r,t;C(a,S,a=>l(17,r=a)),C(a,aa,a=>l(18,t=a));const{page:c}=H();C(a,c,a=>l(16,n=a));const{slug:e}=n.params;let o,i,f,u=!1,m=!1,h=[],d=!1;let p;L(()=>l(7,p=$()));const $=async()=>{K(S,r=await M()),l(3,o=r.find(a=>a.name===e)),l(2,h=await W(o.uri))};function g(a,s){a.dataTransfer.dropEffect="move";let n=a.dataTransfer.getData("text/plain"),r=h.tracks;r[s]=r.splice(n,1,r[s])[0],l(2,h.tracks=r,h),l(5,d=null)}async function v(){return!!await t.playlists.save({playlist:h})}return[u,m,h,o,i,d,f,p,c,e,a=>a,g,function(){l(4,i=v())},function(a){let s=h.tracks;s=s.filter(s=>s.uri!=a),l(2,h.tracks=s,h)},async a=>{await t.playlists.delete({uri:a})?(l(0,u=!u),setTimeout(()=>{_("playlists")},1e3)):console.log("Error: no laylist remove")},a=>{l(6,f=f===a?null:a)},n,r,t,void 0,$,v,()=>l(1,m=!m),()=>l(0,u=!u),()=>l(0,u=!u),()=>l(0,u=!u),(a,s)=>(function(a,s){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move";let l=s;a.dataTransfer.setData("text/plain",l)})(s,a),(a,s)=>g(s,a),a=>l(5,d=a),()=>l(6,f=null)]}export default class extends a{constructor(a){super(),s(this,a,Na,Ta,l,{},[-1,-1])}}
