{{#form.has_geo}}
from django.contrib.gis.db import models
{{/form.has_geo}}
{{^form.has_geo}}
from django.db import models
{{/form.has_geo}}
{{#form.label_template}}
import pystache
{{/form.label_template}}


class {{form.class_name}}(models.Model):
{{#fields}}{{#django_type}}{{>fields/model_field}}{{/django_type}}{{/fields}}
    {{#form.label_template}}
    wq_label_template = "{{form.label_template}}"

    def __str__(self):
        return pystache.render(self.wq_label_template, self)

    {{/form.label_template}}
    class Meta:
        verbose_name = "{{form.verbose_name}}"
        verbose_name_plural = "{{form.verbose_name_plural}}"{{#fields}}{{#wq:nested}}


class {{class_name}}(models.Model):
    {{form.field_name}} = models.{{#wq:many}}ForeignKey{{/wq:many}}{{^wq:many}}OneToOneField{{/wq:many}}(
        {{form.class_name}},
        on_delete=models.CASCADE,{{#wq:many}}
        related_name="{{verbose_name_plural}}",{{/wq:many}}
    )
{{#children}}{{#django_type}}{{>fields/model_field}}{{/django_type}}{{/children}}
    class Meta:
        verbose_name = "{{verbose_name}}"
        verbose_name_plural = "{{verbose_name_plural}}"{{/wq:nested}}{{/fields}}
