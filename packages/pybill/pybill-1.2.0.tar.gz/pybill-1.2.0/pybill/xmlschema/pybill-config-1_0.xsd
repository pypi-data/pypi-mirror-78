<?xml version="1.0" encoding="UTF-8"?>

<xsd:schema xmlns:xsd="http://www.w3.org/2001/XMLSchema"
            xmlns:pbc="http://www.logilab.org/2010/PyBillConfig"
            targetNamespace="http://www.logilab.org/2010/PyBillConfig"
            elementFormDefault="qualified"
            attributeFormDefault="qualified">

  <xsd:element name="config">
    <xsd:complexType>
      <xsd:all>

	<!-- data of the company that emits the accounting documents -->
	<xsd:element ref="pbc:company"/>

	<!-- data of the bank where the bills must be paid -->
	<xsd:element ref="pbc:bank-data"/>

	<!-- lines of text inserted on pro-forma documents -->
	<xsd:element ref="pbc:agreement-intro"/>

	<!-- lines of text inserted in the footer -->
	<xsd:element ref="pbc:footer"/>

	<!-- specification of number separators -->
	<xsd:element ref="pbc:number-separators"/>

	<!-- localisation of words and phrases inserted in the documents -->
	<xsd:element ref="pbc:localisation"/>

      </xsd:all>
      <xsd:attribute name="name" type="xsd:string"/>
      <xsd:attribute name="format-version">
	<xsd:simpleType>
	  <xsd:restriction base="xsd:string">
	    <xsd:enumeration value="PBC-1.0"/> <!-- PyBill Configuration 1.0 -->
	  </xsd:restriction>
	</xsd:simpleType>
      </xsd:attribute>
    </xsd:complexType>
  </xsd:element>


  <!-- company data -->

  <xsd:element name="company">
    <xsd:complexType>
      <xsd:sequence>

        <xsd:element name="logo-file" type="xsd:string" minOccurs="0"/>

        <xsd:element name="orgname" type="xsd:string"/>

        <xsd:element name="address" minOccurs="0">
          <xsd:complexType>
            <xsd:sequence>
              <xsd:element name="street" type="xsd:string" 
                           minOccurs="0" maxOccurs="unbounded"/>
              <xsd:element name="pob" type="xsd:string" minOccurs="0"/>
              <xsd:element name="postcode" type="xsd:string" minOccurs="0"/>
              <xsd:element name="city" type="xsd:string" minOccurs="0"/>
              <xsd:element name="state" type="xsd:string" minOccurs="0"/>
              <xsd:element name="country" type="xsd:string" minOccurs="0"/>
              <xsd:element name="phone" type="xsd:string" minOccurs="0"/>
              <xsd:element name="fax" type="xsd:string" minOccurs="0"/>
              <xsd:element name="web" type="xsd:string" minOccurs="0"/>
              <xsd:element name="email" type="xsd:string" minOccurs="0"/>
            </xsd:sequence>
          </xsd:complexType>
        </xsd:element>

      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>


  <!-- bank data -->

  <xsd:element name="bank-data">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref="pbc:line" minOccurs="0" maxOccurs="unbounded"/>
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>


  <!-- agreement intro -->

  <xsd:element name="agreement-intro">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref="pbc:line" minOccurs="0" maxOccurs="unbounded"/>
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>


  <!-- footer -->

  <xsd:element name="footer">
    <xsd:complexType>
      <xsd:sequence>
        <xsd:element ref="pbc:line" minOccurs="0" maxOccurs="unbounded"/>
      </xsd:sequence>
    </xsd:complexType>
  </xsd:element>


  <!-- line element used in the three previous ones -->

  <xsd:element name="line" type="xsd:string"/>


  <!-- specification of number separators -->

  <xsd:element name="number-separators">
    <xsd:complexType>
      <xsd:all>
        <xsd:element name="sign" type="xsd:string" minOccurs="0"/>
        <xsd:element name="thousands" type="xsd:string" minOccurs="0"/>
        <xsd:element name="digits" type="xsd:string" minOccurs="0"/>
      </xsd:all>
    </xsd:complexType>
  </xsd:element>


  <!-- localisation -->

  <xsd:element name="localisation">
    <xsd:complexType>
      <xsd:all>

        <xsd:element name="colon" type="xsd:string"/>
        <xsd:element name="phone-kw" type="xsd:string"/>
        <xsd:element name="fax-kw" type="xsd:string"/>
        <xsd:element name="web-kw" type="xsd:string"/>
        <xsd:element name="email-kw" type="xsd:string"/>

        <xsd:element name="doc-ref-kw" type="xsd:string"/>
        <xsd:element name="receiver-kw" type="xsd:string"/>
        <xsd:element name="sender-kw" type="xsd:string"/>
        <xsd:element name="on-date" type="xsd:string"/>

        <xsd:element name="bill" type="xsd:string"/>
        <xsd:element name="claim-form" type="xsd:string"/>
        <xsd:element name="downpayment" type="xsd:string"/>
        <xsd:element name="debit" type="xsd:string"/>
        <xsd:element name="pro-forma" type="xsd:string"/>

        <xsd:element name="number" type="xsd:string"/>
        <xsd:element name="dated" type="xsd:string"/>
        <xsd:element name="valid-until" type="xsd:string"/>

        <xsd:element name="intro-detail" type="xsd:string"/>

        <xsd:element name="quantity" type="xsd:string"/>
        <xsd:element name="description" type="xsd:string"/>
        <xsd:element name="vat-rate" type="xsd:string"/>
        <xsd:element name="unit-price" type="xsd:string"/>
        <xsd:element name="tf-unit-price" type="xsd:string"/>
        <xsd:element name="price" type="xsd:string"/>
        <xsd:element name="tf-price" type="xsd:string"/>
        <xsd:element name="it-price" type="xsd:string"/>
        <xsd:element name="holdback-on" type="xsd:string"/>
        <xsd:element name="ita-est" type="xsd:string"/>

        <xsd:element name="total" type="xsd:string"/>
        <xsd:element name="tf-total" type="xsd:string"/>
        <xsd:element name="vat-amount" type="xsd:string"/>
        <xsd:element name="it-total" type="xsd:string"/>
        <xsd:element name="including" type="xsd:string"/>
        <xsd:element name="holdback" type="xsd:string"/>
        <xsd:element name="on-tf" type="xsd:string"/>
        <xsd:element name="on-vat" type="xsd:string"/>

        <xsd:element name="debit-total" type="xsd:string"/>
        <xsd:element name="charged-downpayment" type="xsd:string"/>
        <xsd:element name="charged-on" type="xsd:string"/>
        <xsd:element name="issued-debit" type="xsd:string"/>
        <xsd:element name="issued-on" type="xsd:string"/>
        <xsd:element name="to-be-paid" type="xsd:string"/>

        <xsd:element name="payment-terms" type="xsd:string"/>

        <xsd:element name="to-bring-forward" type="xsd:string"/>
        <xsd:element name="carry-forward" type="xsd:string"/>

        <!-- For backward compatibility with older formats (PyBill 0.X) -->
        <xsd:element name="your-ref-kw" type="xsd:string" minOccurs="0"/>
        <xsd:element name="purch-ref-kw" type="xsd:string" minOccurs="0"/>
        <xsd:element name="supplier-ref-kw" type="xsd:string" minOccurs="0"/>

       </xsd:all>
    </xsd:complexType>
  </xsd:element>

</xsd:schema>
